(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var fd={exports:{}},Ya={},md={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=Symbol.for("react.element"),Em=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),$m=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),Cc=Symbol.iterator;function Um(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gd=Object.assign,xd={};function Nn(e,t,r){this.props=e,this.context=t,this.refs=xd,this.updater=r||pd}Nn.prototype.isReactComponent={};Nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yd(){}yd.prototype=Nn.prototype;function go(e,t,r){this.props=e,this.context=t,this.refs=xd,this.updater=r||pd}var xo=go.prototype=new yd;xo.constructor=go;gd(xo,Nn.prototype);xo.isPureReactComponent=!0;var Tc=Array.isArray,vd=Object.prototype.hasOwnProperty,yo={current:null},wd={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)vd.call(t,n)&&!wd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Es,type:e,key:i,ref:l,props:s,_owner:yo.current}}function Lm(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function Mm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rc=/\/+/g;function Ri(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mm(""+e.key):t.toString(36)}function oa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Es:case Em:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+Ri(l,0):n,Tc(s)?(r="",e!=null&&(r=e.replace(Rc,"$&/")+"/"),oa(s,t,r,"",function(u){return u})):s!=null&&(vo(s)&&(s=Lm(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Rc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Tc(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Ri(i,o);l+=oa(i,t,r,c,s)}else if(c=Um(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Ri(i,o++),l+=oa(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Fs(e,t,r){if(e==null)return e;var n=[],s=0;return oa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function zm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ca={transition:null},Fm={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ca,ReactCurrentOwner:yo};function jd(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Fs,forEach:function(e,t,r){Fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fs(e,function(){t++}),t},toArray:function(e){return Fs(e,function(t){return t})||[]},only:function(e){if(!vo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Nn;H.Fragment=Cm;H.Profiler=Rm;H.PureComponent=go;H.StrictMode=Tm;H.Suspense=Dm;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;H.act=jd;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gd({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=yo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vd.call(t,c)&&!wd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Es,type:e.type,key:s,ref:i,props:n,_owner:l}};H.createContext=function(e){return e={$$typeof:Im,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pm,_context:e},e.Consumer=e};H.createElement=bd;H.createFactory=function(e){var t=bd.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Am,render:e}};H.isValidElement=vo;H.lazy=function(e){return{$$typeof:Om,_payload:{_status:-1,_result:e},_init:zm}};H.memo=function(e,t){return{$$typeof:$m,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ca.transition;ca.transition={};try{e()}finally{ca.transition=t}};H.unstable_act=jd;H.useCallback=function(e,t){return Ae.current.useCallback(e,t)};H.useContext=function(e){return Ae.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ae.current.useEffect(e,t)};H.useId=function(){return Ae.current.useId()};H.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ae.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};H.useRef=function(e){return Ae.current.useRef(e)};H.useState=function(e){return Ae.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ae.current.useTransition()};H.version="18.3.1";md.exports=H;var b=md.exports;const Pc=_m(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=b,Hm=Symbol.for("react.element"),Wm=Symbol.for("react.fragment"),Vm=Object.prototype.hasOwnProperty,qm=Bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Km={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Vm.call(t,n)&&!Km.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Hm,type:e,key:i,ref:l,props:s,_owner:qm.current}}Ya.Fragment=Wm;Ya.jsx=kd;Ya.jsxs=kd;fd.exports=Ya;var a=fd.exports,Nd={exports:{}},Ke={},_d={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,C){var I=N.length;N.push(C);e:for(;0<I;){var D=I-1>>>1,K=N[D];if(0<s(K,C))N[D]=C,N[I]=K,I=D;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var C=N[0],I=N.pop();if(I!==C){N[0]=I;e:for(var D=0,K=N.length,Z=K>>>1;D<Z;){var we=2*(D+1)-1,St=N[we],be=we+1,je=N[be];if(0>s(St,I))be<K&&0>s(je,St)?(N[D]=je,N[be]=I,D=be):(N[D]=St,N[we]=I,D=we);else if(be<K&&0>s(je,I))N[D]=je,N[be]=I,D=be;else break e}}return C}function s(N,C){var I=N.sortIndex-C.sortIndex;return I!==0?I:N.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,y=!1,g=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=N)n(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=r(u)}}function w(N){if(j=!1,x(N),!g)if(r(c)!==null)g=!0,Q(_);else{var C=r(u);C!==null&&he(w,C.startTime-N)}}function _(N,C){g=!1,j&&(j=!1,f(E),E=-1),y=!0;var I=m;try{for(x(C),h=r(c);h!==null&&(!(h.expirationTime>C)||N&&!L());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var K=D(h.expirationTime<=C);C=e.unstable_now(),typeof K=="function"?h.callback=K:h===r(c)&&n(c),x(C)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var we=r(u);we!==null&&he(w,we.startTime-C),Z=!1}return Z}finally{h=null,m=I,y=!1}}var k=!1,S=null,E=-1,P=5,R=-1;function L(){return!(e.unstable_now()-R<P)}function G(){if(S!==null){var N=e.unstable_now();R=N;var C=!0;try{C=S(!0,N)}finally{C?U():(k=!1,S=null)}}else k=!1}var U;if(typeof p=="function")U=function(){p(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=G,U=function(){O.postMessage(null)}}else U=function(){v(G,0)};function Q(N){S=N,k||(k=!0,U())}function he(N,C){E=v(function(){N(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Q(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var C=3;break;default:C=m}var I=m;m=C;try{return N()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,C){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=m;m=N;try{return C()}finally{m=I}},e.unstable_scheduleCallback=function(N,C,I){var D=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?D+I:D):I=D,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=I+K,N={id:d++,callback:C,priorityLevel:N,startTime:I,expirationTime:K,sortIndex:-1},I>D?(N.sortIndex=I,t(u,N),r(c)===null&&N===r(u)&&(j?(f(E),E=-1):j=!0,he(w,I-D))):(N.sortIndex=K,t(c,N),g||y||(g=!0,Q(_))),N},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(N){var C=m;return function(){var I=m;m=C;try{return N.apply(this,arguments)}finally{m=I}}}})(Sd);_d.exports=Sd;var Gm=_d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=b,qe=Gm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ed=new Set,is={};function Ur(e,t){pn(e,t),pn(e+"Capture",t)}function pn(e,t){for(is[e]=t,e=0;e<t.length;e++)Ed.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=Object.prototype.hasOwnProperty,Qm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Ac={};function Ym(e){return hl.call(Ac,e)?!0:hl.call(Ic,e)?!1:Qm.test(e)?Ac[e]=!0:(Ic[e]=!0,!1)}function Xm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zm(e,t,r,n){if(t===null||typeof t>"u"||Xm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var wo=/[\-:]([a-z])/g;function bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wo,bo);_e[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wo,bo);_e[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wo,bo);_e[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function jo(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zm(t,r,s,n)&&(r=null),n||s===null?Ym(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ht=Jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),ko=Symbol.for("react.strict_mode"),fl=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Td=Symbol.for("react.context"),No=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),pl=Symbol.for("react.suspense_list"),_o=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function An(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Pi;function Hn(e){if(Pi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pi=t&&t[1]||""}return`
`+Pi+e}var Ii=!1;function Ai(e,t){if(!e||Ii)return"";Ii=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ii=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hn(e):""}function ep(e){switch(e.tag){case 5:return Hn(e.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 2:case 15:return e=Ai(e.type,!1),e;case 11:return e=Ai(e.type.render,!1),e;case 1:return e=Ai(e.type,!0),e;default:return""}}function gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Jr:return"Portal";case fl:return"Profiler";case ko:return"StrictMode";case ml:return"Suspense";case pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Td:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case No:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _o:return t=e.displayName||null,t!==null?t:gl(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return gl(e(t))}catch{}}return null}function tp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gl(t);case 8:return t===ko?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e){var t=Pd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=rp(e))}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xl(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $c(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ad(e,t){t=t.checked,t!=null&&jo(e,"checked",t,!1)}function yl(e,t){Ad(e,t);var r=hr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,r):t.hasOwnProperty("defaultValue")&&vl(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vl(e,t,r){(t!=="number"||ka(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wn=Array.isArray;function cn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Wn(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hr(r)}}function Dd(e,t){var r=hr(t.value),n=hr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,Od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},np=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(e){np.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jn[t]=Jn[e]})});function Ud(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jn.hasOwnProperty(e)&&Jn[e]?(""+t).trim():t+"px"}function Ld(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ud(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sp=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(e,t){if(t){if(sp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,un=null,dn=null;function Mc(e){if(e=Rs(e)){if(typeof _l!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ri(t),_l(e.stateNode,e.type,t))}}function Md(e){un?dn?dn.push(e):dn=[e]:un=e}function zd(){if(un){var e=un,t=dn;if(dn=un=null,Mc(e),t)for(e=0;e<t.length;e++)Mc(t[e])}}function Fd(e,t){return e(t)}function Bd(){}var Di=!1;function Hd(e,t,r){if(Di)return e(t,r);Di=!0;try{return Fd(e,t,r)}finally{Di=!1,(un!==null||dn!==null)&&(Bd(),zd())}}function os(e,t){var r=e.stateNode;if(r===null)return null;var n=ri(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Sl=!1;if(Ut)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Sl=!1}function ap(e,t,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qn=!1,Na=null,_a=!1,El=null,ip={onError:function(e){Qn=!0,Na=e}};function lp(e,t,r,n,s,i,l,o,c){Qn=!1,Na=null,ap.apply(ip,arguments)}function op(e,t,r,n,s,i,l,o,c){if(lp.apply(this,arguments),Qn){if(Qn){var u=Na;Qn=!1,Na=null}else throw Error(T(198));_a||(_a=!0,El=u)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zc(e){if(Lr(e)!==e)throw Error(T(188))}function cp(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return zc(s),e;if(i===n)return zc(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Vd(e){return e=cp(e),e!==null?qd(e):null}function qd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qd(e);if(t!==null)return t;e=e.sibling}return null}var Kd=qe.unstable_scheduleCallback,Fc=qe.unstable_cancelCallback,up=qe.unstable_shouldYield,dp=qe.unstable_requestPaint,fe=qe.unstable_now,hp=qe.unstable_getCurrentPriorityLevel,Eo=qe.unstable_ImmediatePriority,Gd=qe.unstable_UserBlockingPriority,Sa=qe.unstable_NormalPriority,fp=qe.unstable_LowPriority,Jd=qe.unstable_IdlePriority,Xa=null,bt=null;function mp(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:xp,pp=Math.log,gp=Math.LN2;function xp(e){return e>>>=0,e===0?32:31-(pp(e)/gp|0)|0}var Vs=64,qs=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ea(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Vn(o):(i&=l,i!==0&&(n=Vn(i)))}else l=r&~s,l!==0?n=Vn(l):i!==0&&(n=Vn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ct(t),s=1<<r,n|=e[r],t&=~s;return n}function yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ct(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=yp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qd(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function $i(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function wp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ct(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Co(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function Yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xd,To,Zd,eh,th,Tl=!1,Ks=[],nr=null,sr=null,ar=null,cs=new Map,us=new Map,Xt=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function $n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rs(t),t!==null&&To(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jp(e,t,r,n,s){switch(t){case"focusin":return nr=$n(nr,e,t,r,n,s),!0;case"dragenter":return sr=$n(sr,e,t,r,n,s),!0;case"mouseover":return ar=$n(ar,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return cs.set(i,$n(cs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,$n(us.get(i)||null,e,t,r,n,s)),!0}return!1}function rh(e){var t=Sr(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wd(r),t!==null){e.blockedOn=t,th(e.priority,function(){Zd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nl=n,r.target.dispatchEvent(n),Nl=null}else return t=Rs(r),t!==null&&To(t),e.blockedOn=r,!1;t.shift()}return!0}function Hc(e,t,r){ua(e)&&r.delete(t)}function kp(){Tl=!1,nr!==null&&ua(nr)&&(nr=null),sr!==null&&ua(sr)&&(sr=null),ar!==null&&ua(ar)&&(ar=null),cs.forEach(Hc),us.forEach(Hc)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,Tl||(Tl=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,kp)))}function ds(e){function t(s){return On(s,e)}if(0<Ks.length){On(Ks[0],e);for(var r=1;r<Ks.length;r++){var n=Ks[r];n.blockedOn===e&&(n.blockedOn=null)}}for(nr!==null&&On(nr,e),sr!==null&&On(sr,e),ar!==null&&On(ar,e),cs.forEach(t),us.forEach(t),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)rh(r),r.blockedOn===null&&Xt.shift()}var hn=Ht.ReactCurrentBatchConfig,Ca=!0;function Np(e,t,r,n){var s=J,i=hn.transition;hn.transition=null;try{J=1,Ro(e,t,r,n)}finally{J=s,hn.transition=i}}function _p(e,t,r,n){var s=J,i=hn.transition;hn.transition=null;try{J=4,Ro(e,t,r,n)}finally{J=s,hn.transition=i}}function Ro(e,t,r,n){if(Ca){var s=Rl(e,t,r,n);if(s===null)Vi(e,t,n,Ta,r),Bc(e,n);else if(jp(s,e,t,r,n))n.stopPropagation();else if(Bc(e,n),t&4&&-1<bp.indexOf(e)){for(;s!==null;){var i=Rs(s);if(i!==null&&Xd(i),i=Rl(e,t,r,n),i===null&&Vi(e,t,n,Ta,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Vi(e,t,n,null,r)}}var Ta=null;function Rl(e,t,r,n){if(Ta=null,e=So(n),e=Sr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Eo:return 1;case Gd:return 4;case Sa:case fp:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var tr=null,Po=null,da=null;function sh(){if(da)return da;var e,t=Po,r=t.length,n,s="value"in tr?tr.value:tr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return da=s.slice(e,1<n?1-n:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Wc(){return!1}function Ge(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gs:Wc,this.isPropagationStopped=Wc,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=Ge(_n),Ts=ce({},_n,{view:0,detail:0}),Sp=Ge(Ts),Oi,Ui,Un,Za=ce({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(Oi=e.screenX-Un.screenX,Ui=e.screenY-Un.screenY):Ui=Oi=0,Un=e),Oi)},movementY:function(e){return"movementY"in e?e.movementY:Ui}}),Vc=Ge(Za),Ep=ce({},Za,{dataTransfer:0}),Cp=Ge(Ep),Tp=ce({},Ts,{relatedTarget:0}),Li=Ge(Tp),Rp=ce({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Pp=Ge(Rp),Ip=ce({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ap=Ge(Ip),Dp=ce({},_n,{data:0}),qc=Ge(Dp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function Ao(){return Lp}var Mp=ce({},Ts,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zp=Ge(Mp),Fp=ce({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Ge(Fp),Bp=ce({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),Hp=Ge(Bp),Wp=ce({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=Ge(Wp),qp=ce({},Za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=Ge(qp),Gp=[9,13,27,32],Do=Ut&&"CompositionEvent"in window,Yn=null;Ut&&"documentMode"in document&&(Yn=document.documentMode);var Jp=Ut&&"TextEvent"in window&&!Yn,ah=Ut&&(!Do||Yn&&8<Yn&&11>=Yn),Gc=" ",Jc=!1;function ih(e,t){switch(e){case"keyup":return Gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function Qp(e,t){switch(e){case"compositionend":return lh(t);case"keypress":return t.which!==32?null:(Jc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Jc?null:e;default:return null}}function Yp(e,t){if(Yr)return e==="compositionend"||!Do&&ih(e,t)?(e=sh(),da=Po=tr=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xp[e.type]:t==="textarea"}function oh(e,t,r,n){Md(n),t=Ra(t,"onChange"),0<t.length&&(r=new Io("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xn=null,hs=null;function Zp(e){vh(e,0)}function ei(e){var t=en(e);if(Id(t))return e}function eg(e,t){if(e==="change")return t}var ch=!1;if(Ut){var Mi;if(Ut){var zi="oninput"in document;if(!zi){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),zi=typeof Yc.oninput=="function"}Mi=zi}else Mi=!1;ch=Mi&&(!document.documentMode||9<document.documentMode)}function Xc(){Xn&&(Xn.detachEvent("onpropertychange",uh),hs=Xn=null)}function uh(e){if(e.propertyName==="value"&&ei(hs)){var t=[];oh(t,hs,e,So(e)),Hd(Zp,t)}}function tg(e,t,r){e==="focusin"?(Xc(),Xn=t,hs=r,Xn.attachEvent("onpropertychange",uh)):e==="focusout"&&Xc()}function rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ei(hs)}function ng(e,t){if(e==="click")return ei(t)}function sg(e,t){if(e==="input"||e==="change")return ei(t)}function ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:ag;function fs(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hl.call(t,s)||!ft(e[s],t[s]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eu(e,t){var r=Zc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zc(r)}}function dh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hh(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ka(e.document)}return t}function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ig(e){var t=hh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dh(r.ownerDocument.documentElement,r)){if(n!==null&&$o(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=eu(r,i);var l=eu(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lg=Ut&&"documentMode"in document&&11>=document.documentMode,Xr=null,Pl=null,Zn=null,Il=!1;function tu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Il||Xr==null||Xr!==ka(n)||(n=Xr,"selectionStart"in n&&$o(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zn&&fs(Zn,n)||(Zn=n,n=Ra(Pl,"onSelect"),0<n.length&&(t=new Io("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xr)))}function Js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zr={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Fi={},fh={};Ut&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ti(e){if(Fi[e])return Fi[e];if(!Zr[e])return e;var t=Zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fh)return Fi[e]=t[r];return e}var mh=ti("animationend"),ph=ti("animationiteration"),gh=ti("animationstart"),xh=ti("transitionend"),yh=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){yh.set(e,t),Ur(t,[e])}for(var Bi=0;Bi<ru.length;Bi++){var Hi=ru[Bi],og=Hi.toLowerCase(),cg=Hi[0].toUpperCase()+Hi.slice(1);pr(og,"on"+cg)}pr(mh,"onAnimationEnd");pr(ph,"onAnimationIteration");pr(gh,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(xh,"onTransitionEnd");pn("onMouseEnter",["mouseout","mouseover"]);pn("onMouseLeave",["mouseout","mouseover"]);pn("onPointerEnter",["pointerout","pointerover"]);pn("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function nu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,op(n,t,void 0,e),e.currentTarget=null}function vh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;nu(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;nu(s,o,u),i=c}}}if(_a)throw e=El,_a=!1,El=null,e}function ee(e,t){var r=t[Ul];r===void 0&&(r=t[Ul]=new Set);var n=e+"__bubble";r.has(n)||(wh(t,e,2,!1),r.add(n))}function Wi(e,t,r){var n=0;t&&(n|=4),wh(r,e,n,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[Qs]){e[Qs]=!0,Ed.forEach(function(r){r!=="selectionchange"&&(ug.has(r)||Wi(r,!1,e),Wi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Wi("selectionchange",!1,t))}}function wh(e,t,r,n){switch(nh(t)){case 1:var s=Np;break;case 4:s=_p;break;default:s=Ro}r=s.bind(null,t,r,e),s=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Vi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Sr(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Hd(function(){var u=i,d=So(r),h=[];e:{var m=yh.get(e);if(m!==void 0){var y=Io,g=e;switch(e){case"keypress":if(ha(r)===0)break e;case"keydown":case"keyup":y=zp;break;case"focusin":g="focus",y=Li;break;case"focusout":g="blur",y=Li;break;case"beforeblur":case"afterblur":y=Li;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Hp;break;case mh:case ph:case gh:y=Pp;break;case xh:y=Vp;break;case"scroll":y=Sp;break;case"wheel":y=Kp;break;case"copy":case"cut":case"paste":y=Ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kc}var j=(t&4)!==0,v=!j&&e==="scroll",f=j?m!==null?m+"Capture":null:m;j=[];for(var p=u,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,f!==null&&(w=os(p,f),w!=null&&j.push(ps(p,w,x)))),v)break;p=p.return}0<j.length&&(m=new y(m,g,null,r,d),h.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Nl&&(g=r.relatedTarget||r.fromElement)&&(Sr(g)||g[Lt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?Sr(g):null,g!==null&&(v=Lr(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(j=Vc,w="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(j=Kc,w="onPointerLeave",f="onPointerEnter",p="pointer"),v=y==null?m:en(y),x=g==null?m:en(g),m=new j(w,p+"leave",y,r,d),m.target=v,m.relatedTarget=x,w=null,Sr(d)===u&&(j=new j(f,p+"enter",g,r,d),j.target=x,j.relatedTarget=v,w=j),v=w,y&&g)t:{for(j=y,f=g,p=0,x=j;x;x=Fr(x))p++;for(x=0,w=f;w;w=Fr(w))x++;for(;0<p-x;)j=Fr(j),p--;for(;0<x-p;)f=Fr(f),x--;for(;p--;){if(j===f||f!==null&&j===f.alternate)break t;j=Fr(j),f=Fr(f)}j=null}else j=null;y!==null&&su(h,m,y,j,!1),g!==null&&v!==null&&su(h,v,g,j,!0)}}e:{if(m=u?en(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=eg;else if(Qc(m))if(ch)_=sg;else{_=rg;var k=tg}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=ng);if(_&&(_=_(e,u))){oh(h,_,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&vl(m,"number",m.value)}switch(k=u?en(u):window,e){case"focusin":(Qc(k)||k.contentEditable==="true")&&(Xr=k,Pl=u,Zn=null);break;case"focusout":Zn=Pl=Xr=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,tu(h,r,d);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":tu(h,r,d)}var S;if(Do)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yr?ih(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(ah&&r.locale!=="ko"&&(Yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yr&&(S=sh()):(tr=d,Po="value"in tr?tr.value:tr.textContent,Yr=!0)),k=Ra(u,E),0<k.length&&(E=new qc(E,e,null,r,d),h.push({event:E,listeners:k}),S?E.data=S:(S=lh(r),S!==null&&(E.data=S)))),(S=Jp?Qp(e,r):Yp(e,r))&&(u=Ra(u,"onBeforeInput"),0<u.length&&(d=new qc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}vh(h,t)})}function ps(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ra(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=os(e,r),i!=null&&n.unshift(ps(e,i,s)),i=os(e,t),i!=null&&n.push(ps(e,i,s))),e=e.return}return n}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function su(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=os(r,i),c!=null&&l.unshift(ps(r,c,o))):s||(c=os(r,i),c!=null&&l.push(ps(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var dg=/\r\n?/g,hg=/\u0000|\uFFFD/g;function au(e){return(typeof e=="string"?e:""+e).replace(dg,`
`).replace(hg,"")}function Ys(e,t,r){if(t=au(t),au(e)!==t&&r)throw Error(T(425))}function Pa(){}var Al=null,Dl=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(e){return iu.resolve(null).then(e).catch(pg)}:Ol;function pg(e){setTimeout(function(){throw e})}function qi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ds(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ds(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Sn,gs="__reactProps$"+Sn,Lt="__reactContainer$"+Sn,Ul="__reactEvents$"+Sn,gg="__reactListeners$"+Sn,xg="__reactHandles$"+Sn;function Sr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lt]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lu(e);e!==null;){if(r=e[wt])return r;e=lu(e)}return t}e=r,r=e.parentNode}return null}function Rs(e){return e=e[wt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ri(e){return e[gs]||null}var Ll=[],tn=-1;function gr(e){return{current:e}}function te(e){0>tn||(e.current=Ll[tn],Ll[tn]=null,tn--)}function X(e,t){tn++,Ll[tn]=e.current,e.current=t}var fr={},Re=gr(fr),ze=gr(!1),Pr=fr;function gn(e,t){var r=e.type.contextTypes;if(!r)return fr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Ia(){te(ze),te(Re)}function ou(e,t,r){if(Re.current!==fr)throw Error(T(168));X(Re,t),X(ze,r)}function bh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,tp(e)||"Unknown",s));return ce({},r,n)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,Pr=Re.current,X(Re,e),X(ze,ze.current),!0}function cu(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=bh(e,t,Pr),n.__reactInternalMemoizedMergedChildContext=e,te(ze),te(Re),X(Re,e)):te(ze),X(ze,r)}var Pt=null,ni=!1,Ki=!1;function jh(e){Pt===null?Pt=[e]:Pt.push(e)}function yg(e){ni=!0,jh(e)}function xr(){if(!Ki&&Pt!==null){Ki=!0;var e=0,t=J;try{var r=Pt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pt=null,ni=!1}catch(s){throw Pt!==null&&(Pt=Pt.slice(e+1)),Kd(Eo,xr),s}finally{J=t,Ki=!1}}return null}var rn=[],nn=0,Da=null,$a=0,Qe=[],Ye=0,Ir=null,It=1,At="";function jr(e,t){rn[nn++]=$a,rn[nn++]=Da,Da=e,$a=t}function kh(e,t,r){Qe[Ye++]=It,Qe[Ye++]=At,Qe[Ye++]=Ir,Ir=e;var n=It;e=At;var s=32-ct(n)-1;n&=~(1<<s),r+=1;var i=32-ct(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,It=1<<32-ct(t)+s|r<<s|n,At=i+e}else It=1<<i|r<<s|n,At=e}function Oo(e){e.return!==null&&(jr(e,1),kh(e,1,0))}function Uo(e){for(;e===Da;)Da=rn[--nn],rn[nn]=null,$a=rn[--nn],rn[nn]=null;for(;e===Ir;)Ir=Qe[--Ye],Qe[Ye]=null,At=Qe[--Ye],Qe[Ye]=null,It=Qe[--Ye],Qe[Ye]=null}var Ve=null,We=null,se=!1,ot=null;function Nh(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ir!==null?{id:It,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,We=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zl(e){if(se){var t=We;if(t){var r=t;if(!uu(e,t)){if(Ml(e))throw Error(T(418));t=ir(r.nextSibling);var n=Ve;t&&uu(e,t)?Nh(n,r):(e.flags=e.flags&-4097|2,se=!1,Ve=e)}}else{if(Ml(e))throw Error(T(418));e.flags=e.flags&-4097|2,se=!1,Ve=e}}}function du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Xs(e){if(e!==Ve)return!1;if(!se)return du(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=We)){if(Ml(e))throw _h(),Error(T(418));for(;t;)Nh(e,t),t=ir(t.nextSibling)}if(du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){We=ir(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?ir(e.stateNode.nextSibling):null;return!0}function _h(){for(var e=We;e;)e=ir(e.nextSibling)}function xn(){We=Ve=null,se=!1}function Lo(e){ot===null?ot=[e]:ot.push(e)}var vg=Ht.ReactCurrentBatchConfig;function Ln(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hu(e){var t=e._init;return t(e._payload)}function Sh(e){function t(f,p){if(e){var x=f.deletions;x===null?(f.deletions=[p],f.flags|=16):x.push(p)}}function r(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=ur(f,p),f.index=0,f.sibling=null,f}function i(f,p,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<p?(f.flags|=2,p):x):(f.flags|=2,p)):(f.flags|=1048576,p)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,p,x,w){return p===null||p.tag!==6?(p=el(x,f.mode,w),p.return=f,p):(p=s(p,x),p.return=f,p)}function c(f,p,x,w){var _=x.type;return _===Qr?d(f,p,x.props.children,w,x.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Jt&&hu(_)===p.type)?(w=s(p,x.props),w.ref=Ln(f,p,x),w.return=f,w):(w=va(x.type,x.key,x.props,null,f.mode,w),w.ref=Ln(f,p,x),w.return=f,w)}function u(f,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=tl(x,f.mode,w),p.return=f,p):(p=s(p,x.children||[]),p.return=f,p)}function d(f,p,x,w,_){return p===null||p.tag!==7?(p=Rr(x,f.mode,w,_),p.return=f,p):(p=s(p,x),p.return=f,p)}function h(f,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=el(""+p,f.mode,x),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bs:return x=va(p.type,p.key,p.props,null,f.mode,x),x.ref=Ln(f,null,p),x.return=f,x;case Jr:return p=tl(p,f.mode,x),p.return=f,p;case Jt:var w=p._init;return h(f,w(p._payload),x)}if(Wn(p)||An(p))return p=Rr(p,f.mode,x,null),p.return=f,p;Zs(f,p)}return null}function m(f,p,x,w){var _=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(f,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bs:return x.key===_?c(f,p,x,w):null;case Jr:return x.key===_?u(f,p,x,w):null;case Jt:return _=x._init,m(f,p,_(x._payload),w)}if(Wn(x)||An(x))return _!==null?null:d(f,p,x,w,null);Zs(f,x)}return null}function y(f,p,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(x)||null,o(p,f,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bs:return f=f.get(w.key===null?x:w.key)||null,c(p,f,w,_);case Jr:return f=f.get(w.key===null?x:w.key)||null,u(p,f,w,_);case Jt:var k=w._init;return y(f,p,x,k(w._payload),_)}if(Wn(w)||An(w))return f=f.get(x)||null,d(p,f,w,_,null);Zs(p,w)}return null}function g(f,p,x,w){for(var _=null,k=null,S=p,E=p=0,P=null;S!==null&&E<x.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var R=m(f,S,x[E],w);if(R===null){S===null&&(S=P);break}e&&S&&R.alternate===null&&t(f,S),p=i(R,p,E),k===null?_=R:k.sibling=R,k=R,S=P}if(E===x.length)return r(f,S),se&&jr(f,E),_;if(S===null){for(;E<x.length;E++)S=h(f,x[E],w),S!==null&&(p=i(S,p,E),k===null?_=S:k.sibling=S,k=S);return se&&jr(f,E),_}for(S=n(f,S);E<x.length;E++)P=y(S,f,E,x[E],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?E:P.key),p=i(P,p,E),k===null?_=P:k.sibling=P,k=P);return e&&S.forEach(function(L){return t(f,L)}),se&&jr(f,E),_}function j(f,p,x,w){var _=An(x);if(typeof _!="function")throw Error(T(150));if(x=_.call(x),x==null)throw Error(T(151));for(var k=_=null,S=p,E=p=0,P=null,R=x.next();S!==null&&!R.done;E++,R=x.next()){S.index>E?(P=S,S=null):P=S.sibling;var L=m(f,S,R.value,w);if(L===null){S===null&&(S=P);break}e&&S&&L.alternate===null&&t(f,S),p=i(L,p,E),k===null?_=L:k.sibling=L,k=L,S=P}if(R.done)return r(f,S),se&&jr(f,E),_;if(S===null){for(;!R.done;E++,R=x.next())R=h(f,R.value,w),R!==null&&(p=i(R,p,E),k===null?_=R:k.sibling=R,k=R);return se&&jr(f,E),_}for(S=n(f,S);!R.done;E++,R=x.next())R=y(S,f,E,R.value,w),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),p=i(R,p,E),k===null?_=R:k.sibling=R,k=R);return e&&S.forEach(function(G){return t(f,G)}),se&&jr(f,E),_}function v(f,p,x,w){if(typeof x=="object"&&x!==null&&x.type===Qr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bs:e:{for(var _=x.key,k=p;k!==null;){if(k.key===_){if(_=x.type,_===Qr){if(k.tag===7){r(f,k.sibling),p=s(k,x.props.children),p.return=f,f=p;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Jt&&hu(_)===k.type){r(f,k.sibling),p=s(k,x.props),p.ref=Ln(f,k,x),p.return=f,f=p;break e}r(f,k);break}else t(f,k);k=k.sibling}x.type===Qr?(p=Rr(x.props.children,f.mode,w,x.key),p.return=f,f=p):(w=va(x.type,x.key,x.props,null,f.mode,w),w.ref=Ln(f,p,x),w.return=f,f=w)}return l(f);case Jr:e:{for(k=x.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(f,p.sibling),p=s(p,x.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else t(f,p);p=p.sibling}p=tl(x,f.mode,w),p.return=f,f=p}return l(f);case Jt:return k=x._init,v(f,p,k(x._payload),w)}if(Wn(x))return g(f,p,x,w);if(An(x))return j(f,p,x,w);Zs(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(f,p.sibling),p=s(p,x),p.return=f,f=p):(r(f,p),p=el(x,f.mode,w),p.return=f,f=p),l(f)):r(f,p)}return v}var yn=Sh(!0),Eh=Sh(!1),Oa=gr(null),Ua=null,sn=null,Mo=null;function zo(){Mo=sn=Ua=null}function Fo(e){var t=Oa.current;te(Oa),e._currentValue=t}function Fl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fn(e,t){Ua=e,Mo=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(Ua===null)throw Error(T(308));sn=e,Ua.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var Er=null;function Bo(e){Er===null?Er=[e]:Er.push(e)}function Ch(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Bo(t)):(r.next=s.next,s.next=r),t.interleaved=r,Mt(e,n)}function Mt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qt=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Mt(e,r)}return s=n.interleaved,s===null?(t.next=t,Bo(n)):(t.next=s.next,s.next=t),n.interleaved=t,Mt(e,r)}function fa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Co(e,r)}}function fu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function La(e,t,r,n){var s=e.updateQueue;Qt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,y=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,j=o;switch(m=t,y=r,j.tag){case 1:if(g=j.payload,typeof g=="function"){h=g.call(y,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=j.payload,m=typeof g=="function"?g.call(y,h,m):g,m==null)break e;h=ce({},h,m);break e;case 2:Qt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dr|=l,e.lanes=l,e.memoizedState=h}}function mu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ps={},jt=gr(Ps),xs=gr(Ps),ys=gr(Ps);function Cr(e){if(e===Ps)throw Error(T(174));return e}function Wo(e,t){switch(X(ys,t),X(xs,e),X(jt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bl(t,e)}te(jt),X(jt,t)}function vn(){te(jt),te(xs),te(ys)}function Rh(e){Cr(ys.current);var t=Cr(jt.current),r=bl(t,e.type);t!==r&&(X(xs,e),X(jt,r))}function Vo(e){xs.current===e&&(te(jt),te(xs))}var ae=gr(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gi=[];function qo(){for(var e=0;e<Gi.length;e++)Gi[e]._workInProgressVersionPrimary=null;Gi.length=0}var ma=Ht.ReactCurrentDispatcher,Ji=Ht.ReactCurrentBatchConfig,Ar=0,le=null,pe=null,ye=null,za=!1,es=!1,vs=0,wg=0;function Se(){throw Error(T(321))}function Ko(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ft(e[r],t[r]))return!1;return!0}function Go(e,t,r,n,s,i){if(Ar=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?Ng:_g,e=r(n,s),es){i=0;do{if(es=!1,vs=0,25<=i)throw Error(T(301));i+=1,ye=pe=null,t.updateQueue=null,ma.current=Sg,e=r(n,s)}while(es)}if(ma.current=Fa,t=pe!==null&&pe.next!==null,Ar=0,ye=pe=le=null,za=!1,t)throw Error(T(300));return e}function Jo(){var e=vs!==0;return vs=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?le.memoizedState=ye=e:ye=ye.next=e,ye}function rt(){if(pe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?le.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(T(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?le.memoizedState=ye=e:ye=ye.next=e}return ye}function ws(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=rt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Ar&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,le.lanes|=d,Dr|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,ft(n,t.memoizedState)||(Me=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,Dr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yi(e){var t=rt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);ft(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ph(){}function Ih(e,t){var r=le,n=rt(),s=t(),i=!ft(n.memoizedState,s);if(i&&(n.memoizedState=s,Me=!0),n=n.queue,Qo($h.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,bs(9,Dh.bind(null,r,n,s,t),void 0,null),ve===null)throw Error(T(349));Ar&30||Ah(r,t,s)}return s}function Ah(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dh(e,t,r,n){t.value=r,t.getSnapshot=n,Oh(t)&&Uh(e)}function $h(e,t,r){return r(function(){Oh(t)&&Uh(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ft(e,r)}catch{return!0}}function Uh(e){var t=Mt(e,1);t!==null&&ut(t,e,1,-1)}function pu(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=kg.bind(null,le,e),[t.memoizedState,e]}function bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lh(){return rt().memoizedState}function pa(e,t,r,n){var s=yt();le.flags|=e,s.memoizedState=bs(1|t,r,void 0,n===void 0?null:n)}function si(e,t,r,n){var s=rt();n=n===void 0?null:n;var i=void 0;if(pe!==null){var l=pe.memoizedState;if(i=l.destroy,n!==null&&Ko(n,l.deps)){s.memoizedState=bs(t,r,i,n);return}}le.flags|=e,s.memoizedState=bs(1|t,r,i,n)}function gu(e,t){return pa(8390656,8,e,t)}function Qo(e,t){return si(2048,8,e,t)}function Mh(e,t){return si(4,2,e,t)}function zh(e,t){return si(4,4,e,t)}function Fh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,r){return r=r!=null?r.concat([e]):null,si(4,4,Fh.bind(null,t,e),r)}function Yo(){}function Hh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ko(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ko(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vh(e,t,r){return Ar&21?(ft(r,t)||(r=Qd(),le.lanes|=r,Dr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=r)}function bg(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Ji.transition;Ji.transition={};try{e(!1),t()}finally{J=r,Ji.transition=n}}function qh(){return rt().memoizedState}function jg(e,t,r){var n=cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kh(e))Gh(t,r);else if(r=Ch(e,t,r,n),r!==null){var s=Ie();ut(r,e,n,s),Jh(r,t,n)}}function kg(e,t,r){var n=cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kh(e))Gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,ft(o,l)){var c=t.interleaved;c===null?(s.next=s,Bo(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ch(e,t,s,n),r!==null&&(s=Ie(),ut(r,e,n,s),Jh(r,t,n))}}function Kh(e){var t=e.alternate;return e===le||t!==null&&t===le}function Gh(e,t){es=za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Co(e,r)}}var Fa={readContext:tt,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Ng={readContext:tt,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:gu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pa(4194308,4,Fh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var r=yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jg.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:Yo,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=bg.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=le,s=yt();if(se){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),ve===null)throw Error(T(349));Ar&30||Ah(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,gu($h.bind(null,n,i,e),[e]),n.flags|=2048,bs(9,Dh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yt(),t=ve.identifierPrefix;if(se){var r=At,n=It;r=(n&~(1<<32-ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_g={readContext:tt,useCallback:Hh,useContext:tt,useEffect:Qo,useImperativeHandle:Bh,useInsertionEffect:Mh,useLayoutEffect:zh,useMemo:Wh,useReducer:Qi,useRef:Lh,useState:function(){return Qi(ws)},useDebugValue:Yo,useDeferredValue:function(e){var t=rt();return Vh(t,pe.memoizedState,e)},useTransition:function(){var e=Qi(ws)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Ih,useId:qh,unstable_isNewReconciler:!1},Sg={readContext:tt,useCallback:Hh,useContext:tt,useEffect:Qo,useImperativeHandle:Bh,useInsertionEffect:Mh,useLayoutEffect:zh,useMemo:Wh,useReducer:Yi,useRef:Lh,useState:function(){return Yi(ws)},useDebugValue:Yo,useDeferredValue:function(e){var t=rt();return pe===null?t.memoizedState=e:Vh(t,pe.memoizedState,e)},useTransition:function(){var e=Yi(ws)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Ih,useId:qh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=cr(e),i=$t(n,s);i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(ut(t,e,s,n),fa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=cr(e),i=$t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(ut(t,e,s,n),fa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ie(),n=cr(e),s=$t(r,n);s.tag=2,t!=null&&(s.callback=t),t=lr(e,s,n),t!==null&&(ut(t,e,n,r),fa(t,e,n))}};function xu(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!fs(r,n)||!fs(s,i):!0}function Qh(e,t,r){var n=!1,s=fr,i=t.contextType;return typeof i=="object"&&i!==null?i=tt(i):(s=Fe(t)?Pr:Re.current,n=t.contextTypes,i=(n=n!=null)?gn(e,s):fr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function yu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function Hl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ho(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tt(i):(i=Fe(t)?Pr:Re.current,s.context=gn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ai.enqueueReplaceState(s,s.state,null),La(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wn(e,t){try{var r="",n=t;do r+=ep(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function Yh(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ha||(Ha=!0,eo=n),Wl(e,t)},r}function Xh(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wl(e,t),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function vu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Eg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fg.bind(null,e,t,r),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,lr(r,t,1))),r.lanes|=1),e)}var Cg=Ht.ReactCurrentOwner,Me=!1;function Pe(e,t,r,n){t.child=e===null?Eh(t,null,r,n):yn(t,e.child,r,n)}function ju(e,t,r,n,s){r=r.render;var i=t.ref;return fn(t,s),n=Go(e,t,r,n,i,s),r=Jo(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(se&&r&&Oo(t),t.flags|=1,Pe(e,t,n,s),t.child)}function ku(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ac(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Zh(e,t,i,n,s)):(e=va(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(l,n)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=ur(i,n),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fs(i,n)&&e.ref===t.ref)if(Me=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,zt(e,t,s)}return Vl(e,t,r,n,s)}function ef(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(ln,He),He|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(ln,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(ln,He),He|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,X(ln,He),He|=n;return Pe(e,t,s,r),t.child}function tf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vl(e,t,r,n,s){var i=Fe(r)?Pr:Re.current;return i=gn(t,i),fn(t,s),r=Go(e,t,r,n,i,s),n=Jo(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(se&&n&&Oo(t),t.flags|=1,Pe(e,t,r,s),t.child)}function Nu(e,t,r,n,s){if(Fe(r)){var i=!0;Aa(t)}else i=!1;if(fn(t,s),t.stateNode===null)ga(e,t),Qh(t,r,n),Hl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Fe(r)?Pr:Re.current,u=gn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&yu(t,l,n,u),Qt=!1;var m=t.memoizedState;l.state=m,La(t,n,l,s),c=t.memoizedState,o!==n||m!==c||ze.current||Qt?(typeof d=="function"&&(Bl(t,r,d,n),c=t.memoizedState),(o=Qt||xu(t,r,o,n,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Th(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:at(t.type,o),l.props=u,h=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Fe(r)?Pr:Re.current,c=gn(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&yu(t,l,n,c),Qt=!1,m=t.memoizedState,l.state=m,La(t,n,l,s);var g=t.memoizedState;o!==h||m!==g||ze.current||Qt?(typeof y=="function"&&(Bl(t,r,y,n),g=t.memoizedState),(u=Qt||xu(t,r,u,n,m,g,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ql(e,t,r,n,i,s)}function ql(e,t,r,n,s,i){tf(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&cu(t,r,!1),zt(e,t,i);n=t.stateNode,Cg.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=yn(t,e.child,null,i),t.child=yn(t,null,o,i)):Pe(e,t,o,i),t.memoizedState=n.state,s&&cu(t,r,!0),t.child}function rf(e){var t=e.stateNode;t.pendingContext?ou(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ou(e,t.context,!1),Wo(e,t.containerInfo)}function _u(e,t,r,n,s){return xn(),Lo(s),t.flags|=256,Pe(e,t,r,n),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function nf(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ae,s&1),e===null)return zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=oi(l,n,0,null),e=Rr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gl(r),t.memoizedState=Kl,e):Xo(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Tg(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ur(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ur(o,i):(i=Rr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Gl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Kl,n}return i=e.child,e=i.sibling,n=ur(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xo(e,t){return t=oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,r,n){return n!==null&&Lo(n),yn(t,e.child,null,r),e=Xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tg(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Xi(Error(T(422))),ea(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=oi({mode:"visible",children:n.children},s,0,null),i=Rr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&yn(t,e.child,null,l),t.child.memoizedState=Gl(l),t.memoizedState=Kl,i);if(!(t.mode&1))return ea(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(T(419)),n=Xi(i,n,void 0),ea(e,t,l,n)}if(o=(l&e.childLanes)!==0,Me||o){if(n=ve,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(e,s),ut(n,e,s,-1))}return sc(),n=Xi(Error(T(421))),ea(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=ir(s.nextSibling),Ve=t,se=!0,ot=null,e!==null&&(Qe[Ye++]=It,Qe[Ye++]=At,Qe[Ye++]=Ir,It=e.id,At=e.overflow,Ir=t),t=Xo(t,n.children),t.flags|=4096,t)}function Su(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fl(e.return,t,r)}function Zi(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Pe(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Su(e,r,t);else if(e.tag===19)Su(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ma(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zi(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ma(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zi(t,!0,r,null,i);break;case"together":Zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=ur(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ur(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Rg(e,t,r){switch(t.tag){case 3:rf(t),xn();break;case 5:Rh(t);break;case 1:Fe(t.type)&&Aa(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(Oa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?nf(e,t,r):(X(ae,ae.current&1),e=zt(e,t,r),e!==null?e.sibling:null);X(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,ef(e,t,r)}return zt(e,t,r)}var af,Jl,lf,of;af=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jl=function(){};lf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cr(jt.current);var i=null;switch(r){case"input":s=xl(e,s),n=xl(e,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=wl(e,s),n=wl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pa)}jl(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};of=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Pg(e,t,r){var n=t.pendingProps;switch(Uo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Fe(t.type)&&Ia(),Ee(t),null;case 3:return n=t.stateNode,vn(),te(ze),te(Re),qo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(no(ot),ot=null))),Jl(e,t),Ee(t),null;case 5:Vo(t);var s=Cr(ys.current);if(r=t.type,e!==null&&t.stateNode!=null)lf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Ee(t),null}if(e=Cr(jt.current),Xs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[gs]=i,e=(t.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<qn.length;s++)ee(qn[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":$c(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":Uc(n,i),ee("invalid",n)}jl(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ys(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ys(n.textContent,o,e),s=["children",""+o]):is.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ee("scroll",n)}switch(r){case"input":Hs(n),Oc(n,i,!0);break;case"textarea":Hs(n),Lc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$d(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[wt]=t,e[gs]=n,af(e,t,!1,!1),t.stateNode=e;e:{switch(l=kl(r,n),r){case"dialog":ee("cancel",e),ee("close",e),s=n;break;case"iframe":case"object":case"embed":ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<qn.length;s++)ee(qn[s],e);s=n;break;case"source":ee("error",e),s=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=n;break;case"details":ee("toggle",e),s=n;break;case"input":$c(e,n),s=xl(e,n),ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),ee("invalid",e);break;case"textarea":Uc(e,n),s=wl(e,n),ee("invalid",e);break;default:s=n}jl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ld(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Od(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ls(e,c):typeof c=="number"&&ls(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",e):c!=null&&jo(e,i,c,l))}switch(r){case"input":Hs(e),Oc(e,n,!1);break;case"textarea":Hs(e),Lc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?cn(e,!!n.multiple,i,!1):n.defaultValue!=null&&cn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=Cr(ys.current),Cr(jt.current),Xs(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:Ys(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return Ee(t),null;case 13:if(te(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&We!==null&&t.mode&1&&!(t.flags&128))_h(),xn(),t.flags|=98560,i=!1;else if(i=Xs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[wt]=t}else xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else ot!==null&&(no(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ge===0&&(ge=3):sc())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return vn(),Jl(e,t),e===null&&ms(t.stateNode.containerInfo),Ee(t),null;case 10:return Fo(t.type._context),Ee(t),null;case 17:return Fe(t.type)&&Ia(),Ee(t),null;case 19:if(te(ae),i=t.memoizedState,i===null)return Ee(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Mn(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ma(e),l!==null){for(t.flags|=128,Mn(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>bn&&(t.flags|=128,n=!0,Mn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ma(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!se)return Ee(t),null}else 2*fe()-i.renderingStartTime>bn&&r!==1073741824&&(t.flags|=128,n=!0,Mn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,r=ae.current,X(ae,n?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return nc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?He&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Ig(e,t){switch(Uo(t),t.tag){case 1:return Fe(t.type)&&Ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(),te(ze),te(Re),qo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vo(t),null;case 13:if(te(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ae),null;case 4:return vn(),null;case 10:return Fo(t.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var ta=!1,Te=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,$=null;function an(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function Ql(e,t,r){try{r()}catch(n){de(e,t,n)}}var Eu=!1;function Dg(e,t){if(Al=Ca,e=hh(),$o(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++u===s&&(o=l),m===i&&++d===n&&(c=l),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dl={focusedElem:e,selectionRange:r},Ca=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var j=g.memoizedProps,v=g.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?j:at(t.type,j),v);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){de(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=Eu,Eu=!1,g}function ts(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ql(t,r,i)}s=s.next}while(s!==n)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Yl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[gs],delete t[Ul],delete t[gg],delete t[xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uf(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pa));else if(n!==4&&(e=e.child,e!==null))for(Xl(e,t,r),e=e.sibling;e!==null;)Xl(e,t,r),e=e.sibling}function Zl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zl(e,t,r),e=e.sibling;e!==null;)Zl(e,t,r),e=e.sibling}var ke=null,it=!1;function qt(e,t,r){for(r=r.child;r!==null;)df(e,t,r),r=r.sibling}function df(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Xa,r)}catch{}switch(r.tag){case 5:Te||an(r,t);case 6:var n=ke,s=it;ke=null,qt(e,t,r),ke=n,it=s,ke!==null&&(it?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(it?(e=ke,r=r.stateNode,e.nodeType===8?qi(e.parentNode,r):e.nodeType===1&&qi(e,r),ds(e)):qi(ke,r.stateNode));break;case 4:n=ke,s=it,ke=r.stateNode.containerInfo,it=!0,qt(e,t,r),ke=n,it=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ql(r,t,l),s=s.next}while(s!==n)}qt(e,t,r);break;case 1:if(!Te&&(an(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){de(r,t,o)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,qt(e,t,r),Te=n):qt(e,t,r);break;default:qt(e,t,r)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ag),t.forEach(function(n){var s=Hg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ke=o.stateNode,it=!1;break e;case 3:ke=o.stateNode.containerInfo,it=!0;break e;case 4:ke=o.stateNode.containerInfo,it=!0;break e}o=o.return}if(ke===null)throw Error(T(160));df(i,l,s),ke=null,it=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){de(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}function hf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),gt(e),n&4){try{ts(3,e,e.return),ii(3,e)}catch(j){de(e,e.return,j)}try{ts(5,e,e.return)}catch(j){de(e,e.return,j)}}break;case 1:nt(t,e),gt(e),n&512&&r!==null&&an(r,r.return);break;case 5:if(nt(t,e),gt(e),n&512&&r!==null&&an(r,r.return),e.flags&32){var s=e.stateNode;try{ls(s,"")}catch(j){de(e,e.return,j)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Ad(s,i),kl(o,l);var u=kl(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?Ld(s,h):d==="dangerouslySetInnerHTML"?Od(s,h):d==="children"?ls(s,h):jo(s,d,h,u)}switch(o){case"input":yl(s,i);break;case"textarea":Dd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?cn(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?cn(s,!!i.multiple,i.defaultValue,!0):cn(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(j){de(e,e.return,j)}}break;case 6:if(nt(t,e),gt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){de(e,e.return,j)}}break;case 3:if(nt(t,e),gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(j){de(e,e.return,j)}break;case 4:nt(t,e),gt(e);break;case 13:nt(t,e),gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tc=fe())),n&4&&Tu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(u=Te)||d,nt(t,e),Te=u):nt(t,e),gt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(m=$,y=m.child,m.tag){case 0:case 11:case 14:case 15:ts(4,m,m.return);break;case 1:an(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(j){de(n,r,j)}}break;case 5:an(m,m.return);break;case 22:if(m.memoizedState!==null){Pu(h);continue}}y!==null?(y.return=m,$=y):Pu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ud("display",l))}catch(j){de(e,e.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){de(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nt(t,e),gt(e),n&4&&Tu(e);break;case 21:break;default:nt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uf(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ls(s,""),n.flags&=-33);var i=Cu(e);Zl(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Cu(e);Xl(e,o,l);break;default:throw Error(T(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $g(e,t,r){$=e,ff(e)}function ff(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||ta;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Te;o=ta;var u=Te;if(ta=l,(Te=c)&&!u)for($=s;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?Iu(s):c!==null?(c.return=l,$=c):Iu(s);for(;i!==null;)$=i,ff(i),i=i.sibling;$=s,ta=o,Te=u}Ru(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Ru(e)}}function Ru(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||ii(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mu(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mu(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||t.flags&512&&Yl(t)}catch(m){de(t,t.return,m)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Pu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Iu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ii(4,t)}catch(c){de(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){de(t,s,c)}}var i=t.return;try{Yl(t)}catch(c){de(t,i,c)}break;case 5:var l=t.return;try{Yl(t)}catch(c){de(t,l,c)}}}catch(c){de(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Og=Math.ceil,Ba=Ht.ReactCurrentDispatcher,Zo=Ht.ReactCurrentOwner,Ze=Ht.ReactCurrentBatchConfig,q=0,ve=null,me=null,Ne=0,He=0,ln=gr(0),ge=0,js=null,Dr=0,li=0,ec=0,rs=null,Ue=null,tc=0,bn=1/0,Tt=null,Ha=!1,eo=null,or=null,ra=!1,rr=null,Wa=0,ns=0,to=null,xa=-1,ya=0;function Ie(){return q&6?fe():xa!==-1?xa:xa=fe()}function cr(e){return e.mode&1?q&2&&Ne!==0?Ne&-Ne:vg.transition!==null?(ya===0&&(ya=Qd()),ya):(e=J,e!==0||(e=window.event,e=e===void 0?16:nh(e.type)),e):1}function ut(e,t,r,n){if(50<ns)throw ns=0,to=null,Error(T(185));Cs(e,r,n),(!(q&2)||e!==ve)&&(e===ve&&(!(q&2)&&(li|=r),ge===4&&Zt(e,Ne)),Be(e,n),r===1&&q===0&&!(t.mode&1)&&(bn=fe()+500,ni&&xr()))}function Be(e,t){var r=e.callbackNode;vp(e,t);var n=Ea(e,e===ve?Ne:0);if(n===0)r!==null&&Fc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Fc(r),t===1)e.tag===0?yg(Au.bind(null,e)):jh(Au.bind(null,e)),mg(function(){!(q&6)&&xr()}),r=null;else{switch(Yd(n)){case 1:r=Eo;break;case 4:r=Gd;break;case 16:r=Sa;break;case 536870912:r=Jd;break;default:r=Sa}r=bf(r,mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mf(e,t){if(xa=-1,ya=0,q&6)throw Error(T(327));var r=e.callbackNode;if(mn()&&e.callbackNode!==r)return null;var n=Ea(e,e===ve?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Va(e,n);else{t=n;var s=q;q|=2;var i=gf();(ve!==e||Ne!==t)&&(Tt=null,bn=fe()+500,Tr(e,t));do try{Mg();break}catch(o){pf(e,o)}while(!0);zo(),Ba.current=i,q=s,me!==null?t=0:(ve=null,Ne=0,t=ge)}if(t!==0){if(t===2&&(s=Cl(e),s!==0&&(n=s,t=ro(e,s))),t===1)throw r=js,Tr(e,0),Zt(e,n),Be(e,fe()),r;if(t===6)Zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ug(s)&&(t=Va(e,n),t===2&&(i=Cl(e),i!==0&&(n=i,t=ro(e,i))),t===1))throw r=js,Tr(e,0),Zt(e,n),Be(e,fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:kr(e,Ue,Tt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=tc+500-fe(),10<t)){if(Ea(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ol(kr.bind(null,e,Ue,Tt),t);break}kr(e,Ue,Tt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-ct(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Og(n/1960))-n,10<n){e.timeoutHandle=Ol(kr.bind(null,e,Ue,Tt),n);break}kr(e,Ue,Tt);break;case 5:kr(e,Ue,Tt);break;default:throw Error(T(329))}}}return Be(e,fe()),e.callbackNode===r?mf.bind(null,e):null}function ro(e,t){var r=rs;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=Va(e,t),e!==2&&(t=Ue,Ue=r,t!==null&&no(t)),e}function no(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Ug(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ft(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~ec,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),n=1<<r;e[r]=-1,t&=~n}}function Au(e){if(q&6)throw Error(T(327));mn();var t=Ea(e,0);if(!(t&1))return Be(e,fe()),null;var r=Va(e,t);if(e.tag!==0&&r===2){var n=Cl(e);n!==0&&(t=n,r=ro(e,n))}if(r===1)throw r=js,Tr(e,0),Zt(e,t),Be(e,fe()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Ue,Tt),Be(e,fe()),null}function rc(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(bn=fe()+500,ni&&xr())}}function $r(e){rr!==null&&rr.tag===0&&!(q&6)&&mn();var t=q;q|=1;var r=Ze.transition,n=J;try{if(Ze.transition=null,J=1,e)return e()}finally{J=n,Ze.transition=r,q=t,!(q&6)&&xr()}}function nc(){He=ln.current,te(ln)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fg(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(Uo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ia();break;case 3:vn(),te(ze),te(Re),qo();break;case 5:Vo(n);break;case 4:vn();break;case 13:te(ae);break;case 19:te(ae);break;case 10:Fo(n.type._context);break;case 22:case 23:nc()}r=r.return}if(ve=e,me=e=ur(e.current,null),Ne=He=t,ge=0,js=null,ec=li=Dr=0,Ue=rs=null,Er!==null){for(t=0;t<Er.length;t++)if(r=Er[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}Er=null}return e}function pf(e,t){do{var r=me;try{if(zo(),ma.current=Fa,za){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}za=!1}if(Ar=0,ye=pe=le=null,es=!1,vs=0,Zo.current=null,r===null||r.return===null){ge=1,js=t,me=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ne,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=wu(l);if(y!==null){y.flags&=-257,bu(y,l,o,i,t),y.mode&1&&vu(i,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var j=new Set;j.add(c),t.updateQueue=j}else g.add(c);break e}else{if(!(t&1)){vu(i,u,t),sc();break e}c=Error(T(426))}}else if(se&&o.mode&1){var v=wu(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),bu(v,l,o,i,t),Lo(wn(c,o));break e}}i=c=wn(c,o),ge!==4&&(ge=2),rs===null?rs=[i]:rs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Yh(i,c,t);fu(i,f);break e;case 1:o=c;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(or===null||!or.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Xh(i,o,t);fu(i,w);break e}}i=i.return}while(i!==null)}yf(r)}catch(_){t=_,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function gf(){var e=Ba.current;return Ba.current=Fa,e===null?Fa:e}function sc(){(ge===0||ge===3||ge===2)&&(ge=4),ve===null||!(Dr&268435455)&&!(li&268435455)||Zt(ve,Ne)}function Va(e,t){var r=q;q|=2;var n=gf();(ve!==e||Ne!==t)&&(Tt=null,Tr(e,t));do try{Lg();break}catch(s){pf(e,s)}while(!0);if(zo(),q=r,Ba.current=n,me!==null)throw Error(T(261));return ve=null,Ne=0,ge}function Lg(){for(;me!==null;)xf(me)}function Mg(){for(;me!==null&&!up();)xf(me)}function xf(e){var t=wf(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?yf(e):me=t,Zo.current=null}function yf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ig(r,t),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,me=null;return}}else if(r=Pg(r,t,He),r!==null){me=r;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ge===0&&(ge=5)}function kr(e,t,r){var n=J,s=Ze.transition;try{Ze.transition=null,J=1,zg(e,t,r,n)}finally{Ze.transition=s,J=n}return null}function zg(e,t,r,n){do mn();while(rr!==null);if(q&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wp(e,i),e===ve&&(me=ve=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ra||(ra=!0,bf(Sa,function(){return mn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var l=J;J=1;var o=q;q|=4,Zo.current=null,Dg(e,r),hf(r,e),ig(Dl),Ca=!!Al,Dl=Al=null,e.current=r,$g(r),dp(),q=o,J=l,Ze.transition=i}else e.current=r;if(ra&&(ra=!1,rr=e,Wa=s),i=e.pendingLanes,i===0&&(or=null),mp(r.stateNode),Be(e,fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ha)throw Ha=!1,e=eo,eo=null,e;return Wa&1&&e.tag!==0&&mn(),i=e.pendingLanes,i&1?e===to?ns++:(ns=0,to=e):ns=0,xr(),null}function mn(){if(rr!==null){var e=Yd(Wa),t=Ze.transition,r=J;try{if(Ze.transition=null,J=16>e?16:e,rr===null)var n=!1;else{if(e=rr,rr=null,Wa=0,q&6)throw Error(T(331));var s=q;for(q|=4,$=e.current;$!==null;){var i=$,l=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ts(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var m=d.sibling,y=d.return;if(cf(d),d===u){$=null;break}if(m!==null){m.return=y,$=m;break}$=y}}}var g=i.alternate;if(g!==null){var j=g.child;if(j!==null){g.child=null;do{var v=j.sibling;j.sibling=null,j=v}while(j!==null)}}$=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$=l;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ts(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,$=f;break e}$=i.return}}var p=e.current;for($=p;$!==null;){l=$;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,$=x;else e:for(l=p;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ii(9,o)}}catch(_){de(o,o.return,_)}if(o===l){$=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,$=w;break e}$=o.return}}if(q=s,xr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Xa,e)}catch{}n=!0}return n}finally{J=r,Ze.transition=t}}return!1}function Du(e,t,r){t=wn(r,t),t=Yh(e,t,1),e=lr(e,t,1),t=Ie(),e!==null&&(Cs(e,1,t),Be(e,t))}function de(e,t,r){if(e.tag===3)Du(e,e,r);else for(;t!==null;){if(t.tag===3){Du(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){e=wn(r,e),e=Xh(t,e,1),t=lr(t,e,1),e=Ie(),t!==null&&(Cs(t,1,e),Be(t,e));break}}t=t.return}}function Fg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&r,ve===e&&(Ne&r)===r&&(ge===4||ge===3&&(Ne&130023424)===Ne&&500>fe()-tc?Tr(e,0):ec|=r),Be(e,t)}function vf(e,t){t===0&&(e.mode&1?(t=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):t=1);var r=Ie();e=Mt(e,t),e!==null&&(Cs(e,t,r),Be(e,r))}function Bg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vf(e,r)}function Hg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),vf(e,r)}var wf;wf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Me=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Me=!1,Rg(e,t,r);Me=!!(e.flags&131072)}else Me=!1,se&&t.flags&1048576&&kh(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ga(e,t),e=t.pendingProps;var s=gn(t,Re.current);fn(t,r),s=Go(null,t,n,e,s,r);var i=Jo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(i=!0,Aa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ho(t),s.updater=ai,t.stateNode=s,s._reactInternals=t,Hl(t,n,e,r),t=ql(null,t,n,!0,i,r)):(t.tag=0,se&&i&&Oo(t),Pe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Vg(n),e=at(n,e),s){case 0:t=Vl(null,t,n,e,r);break e;case 1:t=Nu(null,t,n,e,r);break e;case 11:t=ju(null,t,n,e,r);break e;case 14:t=ku(null,t,n,at(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Vl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Nu(e,t,n,s,r);case 3:e:{if(rf(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Th(e,t),La(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=wn(Error(T(423)),t),t=_u(e,t,n,r,s);break e}else if(n!==s){s=wn(Error(T(424)),t),t=_u(e,t,n,r,s);break e}else for(We=ir(t.stateNode.containerInfo.firstChild),Ve=t,se=!0,ot=null,r=Eh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xn(),n===s){t=zt(e,t,r);break e}Pe(e,t,n,r)}t=t.child}return t;case 5:return Rh(t),e===null&&zl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,$l(n,s)?l=null:i!==null&&$l(n,i)&&(t.flags|=32),tf(e,t),Pe(e,t,l,r),t.child;case 6:return e===null&&zl(t),null;case 13:return nf(e,t,r);case 4:return Wo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yn(t,null,n,r):Pe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ju(e,t,n,s,r);case 7:return Pe(e,t,t.pendingProps,r),t.child;case 8:return Pe(e,t,t.pendingProps.children,r),t.child;case 12:return Pe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,X(Oa,n._currentValue),n._currentValue=l,i!==null)if(ft(i.value,l)){if(i.children===s.children&&!ze.current){t=zt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=$t(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Fl(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(T(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Fl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Pe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fn(t,r),s=tt(s),n=n(s),t.flags|=1,Pe(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),ku(e,t,n,s,r);case 15:return Zh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ga(e,t),t.tag=1,Fe(n)?(e=!0,Aa(t)):e=!1,fn(t,r),Qh(t,n,s),Hl(t,n,s,r),ql(null,t,n,!0,e,r);case 19:return sf(e,t,r);case 22:return ef(e,t,r)}throw Error(T(156,t.tag))};function bf(e,t){return Kd(e,t)}function Wg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,n){return new Wg(e,t,r,n)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vg(e){if(typeof e=="function")return ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===No)return 11;if(e===_o)return 14}return 2}function ur(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function va(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")ac(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Qr:return Rr(r.children,s,i,t);case ko:l=8,s|=8;break;case fl:return e=Xe(12,r,t,s|2),e.elementType=fl,e.lanes=i,e;case ml:return e=Xe(13,r,t,s),e.elementType=ml,e.lanes=i,e;case pl:return e=Xe(19,r,t,s),e.elementType=pl,e.lanes=i,e;case Rd:return oi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:l=10;break e;case Td:l=9;break e;case No:l=11;break e;case _o:l=14;break e;case Jt:l=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Xe(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Rr(e,t,r,n){return e=Xe(7,e,n,t),e.lanes=r,e}function oi(e,t,r,n){return e=Xe(22,e,n,t),e.elementType=Rd,e.lanes=r,e.stateNode={isHidden:!1},e}function el(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function tl(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(e,t,r,n,s,i,l,o,c){return e=new qg(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(i),e}function Kg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jf(e){if(!e)return fr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Fe(r))return bh(e,r,t)}return t}function kf(e,t,r,n,s,i,l,o,c){return e=ic(r,n,!0,e,s,i,l,o,c),e.context=jf(null),r=e.current,n=Ie(),s=cr(r),i=$t(n,s),i.callback=t??null,lr(r,i,s),e.current.lanes=s,Cs(e,s,n),Be(e,n),e}function ci(e,t,r,n){var s=t.current,i=Ie(),l=cr(s);return r=jf(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lr(s,t,l),e!==null&&(ut(e,s,l,i),fa(e,s,l)),l}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lc(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function Gg(){return null}var Nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}ui.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));ci(e,t,null,null)};ui.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){ci(null,e,null,null)}),t[Lt]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=eh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&t!==0&&t<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&rh(e)}};function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function Jg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=qa(l);i.call(u)}}var l=kf(t,n,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=l,e[Lt]=l.current,ms(e.nodeType===8?e.parentNode:e),$r(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=qa(c);o.call(u)}}var c=ic(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=c,e[Lt]=c.current,ms(e.nodeType===8?e.parentNode:e),$r(function(){ci(t,c,r,n)}),c}function hi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=qa(l);o.call(c)}}ci(t,l,e,s)}else l=Jg(r,t,e,s,n);return qa(l)}Xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vn(t.pendingLanes);r!==0&&(Co(t,r|1),Be(t,fe()),!(q&6)&&(bn=fe()+500,xr()))}break;case 13:$r(function(){var n=Mt(e,1);if(n!==null){var s=Ie();ut(n,e,1,s)}}),lc(e,1)}};To=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var r=Ie();ut(t,e,134217728,r)}lc(e,134217728)}};Zd=function(e){if(e.tag===13){var t=cr(e),r=Mt(e,t);if(r!==null){var n=Ie();ut(r,e,t,n)}lc(e,t)}};eh=function(){return J};th=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};_l=function(e,t,r){switch(t){case"input":if(yl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ri(n);if(!s)throw Error(T(90));Id(n),yl(n,s)}}}break;case"textarea":Dd(e,r);break;case"select":t=r.value,t!=null&&cn(e,!!r.multiple,t,!1)}};Fd=rc;Bd=$r;var Qg={usingClientEntryPoint:!1,Events:[Rs,en,ri,Md,zd,rc]},zn={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yg={bundleType:zn.bundleType,version:zn.version,rendererPackageName:zn.rendererPackageName,rendererConfig:zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vd(e),e===null?null:e.stateNode},findFiberByHostInstance:zn.findFiberByHostInstance||Gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Xa=na.inject(Yg),bt=na}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;Ke.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(t))throw Error(T(200));return Kg(e,t,null,r)};Ke.createRoot=function(e,t){if(!cc(e))throw Error(T(299));var r=!1,n="",s=Nf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ic(e,1,!1,null,null,r,!1,n,s),e[Lt]=t.current,ms(e.nodeType===8?e.parentNode:e),new oc(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Vd(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return $r(e)};Ke.hydrate=function(e,t,r){if(!di(t))throw Error(T(200));return hi(null,e,t,!0,r)};Ke.hydrateRoot=function(e,t,r){if(!cc(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=kf(t,null,e,1,r??null,s,!1,i,l),e[Lt]=t.current,ms(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ui(t)};Ke.render=function(e,t,r){if(!di(t))throw Error(T(200));return hi(null,e,t,!1,r)};Ke.unmountComponentAtNode=function(e){if(!di(e))throw Error(T(40));return e._reactRootContainer?($r(function(){hi(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Ke.unstable_batchedUpdates=rc;Ke.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!di(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return hi(e,t,r,!1,n)};Ke.version="18.3.1-next-f1338f8080-20240426";function _f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_f)}catch(e){console.error(e)}}_f(),Nd.exports=Ke;var Xg=Nd.exports,Sf,Uu=Xg;Sf=Uu.createRoot,Uu.hydrateRoot;var uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.parse=a0;uc.serialize=i0;const Zg=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e0=/^[\u0021-\u003A\u003C-\u007E]*$/,t0=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r0=/^[\u0020-\u003A\u003D-\u007E]*$/,n0=Object.prototype.toString,s0=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function a0(e,t){const r=new s0,n=e.length;if(n<2)return r;const s=(t==null?void 0:t.decode)||l0;let i=0;do{const l=e.indexOf("=",i);if(l===-1)break;const o=e.indexOf(";",i),c=o===-1?n:o;if(l>c){i=e.lastIndexOf(";",l-1)+1;continue}const u=Lu(e,i,l),d=Mu(e,l,u),h=e.slice(u,d);if(r[h]===void 0){let m=Lu(e,l+1,c),y=Mu(e,c,m);const g=s(e.slice(m,y));r[h]=g}i=c+1}while(i<n);return r}function Lu(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function Mu(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function i0(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!Zg.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=n(t);if(!e0.test(s))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+s;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!t0.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!r0.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!o0(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function l0(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function o0(e){return n0.call(e)==="[object Date]"}var zu="popstate";function c0(e={}){function t(n,s){let{pathname:i,search:l,hash:o}=n.location;return so("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ks(s)}return d0(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u0(){return Math.random().toString(36).substring(2,10)}function Fu(e,t){return{usr:e.state,key:e.key,idx:t}}function so(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?En(t):t,state:r,key:t&&t.key||n||u0()}}function ks({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function En(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function d0(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,o="POP",c=null,u=d();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function d(){return(l.state||{idx:null}).idx}function h(){o="POP";let v=d(),f=v==null?null:v-u;u=v,c&&c({action:o,location:j.location,delta:f})}function m(v,f){o="PUSH";let p=so(j.location,v,f);u=d()+1;let x=Fu(p,u),w=j.createHref(p);try{l.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(w)}i&&c&&c({action:o,location:j.location,delta:1})}function y(v,f){o="REPLACE";let p=so(j.location,v,f);u=d();let x=Fu(p,u),w=j.createHref(p);l.replaceState(x,"",w),i&&c&&c({action:o,location:j.location,delta:0})}function g(v){return h0(v)}let j={get action(){return o},get location(){return e(s,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zu,h),c=v,()=>{s.removeEventListener(zu,h),c=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let f=g(v);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:y,go(v){return l.go(v)}};return j}function h0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ks(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Ef(e,t,r="/"){return f0(e,t,r,!1)}function f0(e,t,r,n){let s=typeof t=="string"?En(t):t,i=Ft(s.pathname||"/",r);if(i==null)return null;let l=Cf(e);m0(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=_0(i);o=k0(l[c],u,n)}return o}function Cf(e,t=[],r=[],n=""){let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(oe(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Ot([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(oe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Cf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:b0(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of Tf(i.path))s(i,l,c)}),t}function Tf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=Tf(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function m0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:j0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var p0=/^:[\w-]+$/,g0=3,x0=2,y0=1,v0=10,w0=-2,Bu=e=>e==="*";function b0(e,t){let r=e.split("/"),n=r.length;return r.some(Bu)&&(n+=w0),t&&(n+=x0),r.filter(s=>!Bu(s)).reduce((s,i)=>s+(p0.test(i)?g0:i===""?y0:v0),n)}function j0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function k0(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ka({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Ka({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:Ot([i,h.pathname]),pathnameBase:T0(Ot([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ot([i,h.pathnameBase]))}return l}function Ka(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=N0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let g=o[m]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[m];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function N0(e,t=!1,r=!0){Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function _0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ft(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function S0(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?En(e):e;return{pathname:r?r.startsWith("/")?r:E0(r,t):t,search:R0(n),hash:P0(s)}}function E0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rl(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rf(e){let t=C0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Pf(e,t,r,n=!1){let s;typeof e=="string"?s=En(e):(s={...e},oe(!s.pathname||!s.pathname.includes("?"),rl("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),rl("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),rl("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=S0(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ot=e=>e.join("/").replace(/\/\/+/g,"/"),T0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var If=["POST","PUT","PATCH","DELETE"];new Set(If);var A0=["GET",...If];new Set(A0);var Cn=b.createContext(null);Cn.displayName="DataRouter";var fi=b.createContext(null);fi.displayName="DataRouterState";var Af=b.createContext({isTransitioning:!1});Af.displayName="ViewTransition";var D0=b.createContext(new Map);D0.displayName="Fetchers";var $0=b.createContext(null);$0.displayName="Await";var _t=b.createContext(null);_t.displayName="Navigation";var Is=b.createContext(null);Is.displayName="Location";var Wt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var dc=b.createContext(null);dc.displayName="RouteError";function O0(e,{relative:t}={}){oe(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(_t),{hash:s,pathname:i,search:l}=Ds(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Ot([r,i])),n.createHref({pathname:o,search:l,hash:s})}function As(){return b.useContext(Is)!=null}function yr(){return oe(As(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Is).location}var Df="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $f(e){b.useContext(_t).static||b.useLayoutEffect(e)}function hc(){let{isDataRoute:e}=b.useContext(Wt);return e?J0():U0()}function U0(){oe(As(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Cn),{basename:t,navigator:r}=b.useContext(_t),{matches:n}=b.useContext(Wt),{pathname:s}=yr(),i=JSON.stringify(Rf(n)),l=b.useRef(!1);return $f(()=>{l.current=!0}),b.useCallback((c,u={})=>{if(Nt(l.current,Df),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=Pf(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ot([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}b.createContext(null);function Ds(e,{relative:t}={}){let{matches:r}=b.useContext(Wt),{pathname:n}=yr(),s=JSON.stringify(Rf(r));return b.useMemo(()=>Pf(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function L0(e,t){return Of(e,t)}function Of(e,t,r,n){var f;oe(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(_t),{matches:i}=b.useContext(Wt),l=i[i.length-1],o=l?l.params:{},c=l?l.pathname:"/",u=l?l.pathnameBase:"/",d=l&&l.route;{let p=d&&d.path||"";Uf(c,!d||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=yr(),m;if(t){let p=typeof t=="string"?En(t):t;oe(u==="/"||((f=p.pathname)==null?void 0:f.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let y=m.pathname||"/",g=y;if(u!=="/"){let p=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let j=Ef(e,{pathname:g});Nt(d||j!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Nt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=H0(j&&j.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:Ot([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Ot([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return t&&v?b.createElement(Is.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function M0(){let e=G0(),t=I0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,l)}var z0=b.createElement(M0,null),F0=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Wt.Provider,{value:this.props.routeContext},b.createElement(dc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B0({routeContext:e,match:t,children:r}){let n=b.useContext(Cn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Wt.Provider,{value:e},r)}function H0(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);oe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,o=-1;if(r)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:h}=r,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){l=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((c,u,d)=>{let h,m=!1,y=null,g=null;r&&(h=i&&u.route.id?i[u.route.id]:void 0,y=u.route.errorElement||z0,l&&(o<0&&d===0?(Uf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):o===d&&(m=!0,g=u.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,d+1)),v=()=>{let f;return h?f=y:m?f=g:u.route.Component?f=b.createElement(u.route.Component,null):u.route.element?f=u.route.element:f=c,b.createElement(B0,{match:u,routeContext:{outlet:c,matches:j,isDataRoute:r!=null},children:f})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?b.createElement(F0,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:v(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):v()},null)}function fc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(e){let t=b.useContext(Cn);return oe(t,fc(e)),t}function V0(e){let t=b.useContext(fi);return oe(t,fc(e)),t}function q0(e){let t=b.useContext(Wt);return oe(t,fc(e)),t}function mc(e){let t=q0(e),r=t.matches[t.matches.length-1];return oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function K0(){return mc("useRouteId")}function G0(){var n;let e=b.useContext(dc),t=V0("useRouteError"),r=mc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function J0(){let{router:e}=W0("useNavigate"),t=mc("useNavigate"),r=b.useRef(!1);return $f(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Nt(r.current,Df),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Hu={};function Uf(e,t,r){!t&&!Hu[e]&&(Hu[e]=!0,Nt(!1,r))}b.memo(Q0);function Q0({routes:e,future:t,state:r}){return Of(e,void 0,r,t)}function xt(e){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){oe(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof r=="string"&&(r=En(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,y=b.useMemo(()=>{let g=Ft(c,l);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:m},navigationType:n}},[l,c,u,d,h,m,n]);return Nt(y!=null,`<Router basename="${l}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(_t.Provider,{value:o},b.createElement(Is.Provider,{children:t,value:y}))}function X0({children:e,location:t}){return L0(ao(e),t)}function ao(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,ao(n.props.children,i));return}oe(n.type===xt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ao(n.props.children,i)),r.push(l)}),r}var wa="get",ba="application/x-www-form-urlencoded";function mi(e){return e!=null&&typeof e.tagName=="string"}function Z0(e){return mi(e)&&e.tagName.toLowerCase()==="button"}function ex(e){return mi(e)&&e.tagName.toLowerCase()==="form"}function tx(e){return mi(e)&&e.tagName.toLowerCase()==="input"}function rx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nx(e,t){return e.button===0&&(!t||t==="_self")&&!rx(e)}var sa=null;function sx(){if(sa===null)try{new FormData(document.createElement("form"),0),sa=!1}catch{sa=!0}return sa}var ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nl(e){return e!=null&&!ax.has(e)?(Nt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ba}"`),null):e}function ix(e,t){let r,n,s,i,l;if(ex(e)){let o=e.getAttribute("action");n=o?Ft(o,t):null,r=e.getAttribute("method")||wa,s=nl(e.getAttribute("enctype"))||ba,i=new FormData(e)}else if(Z0(e)||tx(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Ft(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||wa,s=nl(e.getAttribute("formenctype"))||nl(o.getAttribute("enctype"))||ba,i=new FormData(o,e),!sx()){let{name:u,type:d,value:h}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,h)}}else{if(mi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wa,n=null,s=ba,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:l}}function pc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function lx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ox(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cx(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let l=await lx(i,r);return l.links?l.links():[]}return[]}));return fx(n.flat(1).filter(ox).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Wu(e,t,r,n,s,i){let l=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>l(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ux(e,t,{includeHydrateFallback:r}={}){return dx(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function dx(e){return[...new Set(e)]}function hx(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function fx(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(hx(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mx=new Set([100,101,204,205]);function px(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ft(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Lf(){let e=b.useContext(Cn);return pc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gx(){let e=b.useContext(fi);return pc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gc=b.createContext(void 0);gc.displayName="FrameworkContext";function Mf(){let e=b.useContext(gc);return pc(e,"You must render this element inside a <HydratedRouter> element"),e}function xx(e,t){let r=b.useContext(gc),[n,s]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let j=f=>{f.forEach(p=>{l(p.isIntersecting)})},v=new IntersectionObserver(j,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),b.useEffect(()=>{if(n){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{s(!0)},g=()=>{s(!1),l(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Fn(o,y),onBlur:Fn(c,g),onMouseEnter:Fn(u,y),onMouseLeave:Fn(d,g),onTouchStart:Fn(h,y)}]:[!1,m,{}]}function Fn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function yx({page:e,...t}){let{router:r}=Lf(),n=b.useMemo(()=>Ef(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(wx,{page:e,matches:n,...t}):null}function vx(e){let{manifest:t,routeModules:r}=Mf(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return cx(e,t,r).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,r]),n}function wx({page:e,matches:t,...r}){let n=yr(),{manifest:s,routeModules:i}=Mf(),{basename:l}=Lf(),{loaderData:o,matches:c}=gx(),u=b.useMemo(()=>Wu(e,t,c,s,n,"data"),[e,t,c,s,n]),d=b.useMemo(()=>Wu(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,j=!1;if(t.forEach(f=>{var x;let p=s.routes[f.route.id];!p||!p.hasLoader||(!u.some(w=>w.route.id===f.route.id)&&f.route.id in o&&((x=i[f.route.id])!=null&&x.shouldRevalidate)||p.hasClientLoader?j=!0:g.add(f.route.id))}),g.size===0)return[];let v=px(e,l);return j&&g.size>0&&v.searchParams.set("_routes",t.filter(f=>g.has(f.route.id)).map(f=>f.route.id).join(",")),[v.pathname+v.search]},[l,o,n,s,u,t,e,i]),m=b.useMemo(()=>ux(d,s),[d,s]),y=vx(d);return b.createElement(b.Fragment,null,h.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),m.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),y.map(({key:g,link:j})=>b.createElement("link",{key:g,...j})))}function bx(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zf&&(window.__reactRouterVersion="7.6.3")}catch{}function jx({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=c0({window:r,v5Compat:!0}));let s=n.current,[i,l]=b.useState({action:s.action,location:s.location}),o=b.useCallback(c=>{b.startTransition(()=>l(c))},[l]);return b.useLayoutEffect(()=>s.listen(o),[s,o]),b.createElement(Y0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,...m},y){let{basename:g}=b.useContext(_t),j=typeof u=="string"&&Ff.test(u),v,f=!1;if(typeof u=="string"&&j&&(v=u,zf))try{let P=new URL(window.location.href),R=u.startsWith("//")?new URL(P.protocol+u):new URL(u),L=Ft(R.pathname,g);R.origin===P.origin&&L!=null?u=L+R.search+R.hash:f=!0}catch{Nt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=O0(u,{relative:s}),[x,w,_]=xx(n,m),k=Sx(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function S(P){t&&t(P),P.defaultPrevented||k(P)}let E=b.createElement("a",{...m,..._,href:v||p,onClick:f||i?t:S,ref:bx(y,w),target:c,"data-discover":!j&&r==="render"?"true":void 0});return x&&!j?b.createElement(b.Fragment,null,E,b.createElement(yx,{page:p})):E});ue.displayName="Link";var kx=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:l,viewTransition:o,children:c,...u},d){let h=Ds(l,{relative:u.relative}),m=yr(),y=b.useContext(fi),{navigator:g,basename:j}=b.useContext(_t),v=y!=null&&Px(h)&&o===!0,f=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,p=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(p=p.toLowerCase(),x=x?x.toLowerCase():null,f=f.toLowerCase()),x&&j&&(x=Ft(x,j)||x);const w=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let _=p===f||!s&&p.startsWith(f)&&p.charAt(w)==="/",k=x!=null&&(x===f||!s&&x.startsWith(f)&&x.charAt(f.length)==="/"),S={isActive:_,isPending:k,isTransitioning:v},E=_?t:void 0,P;typeof n=="function"?P=n(S):P=[n,_?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(S):i;return b.createElement(ue,{...u,"aria-current":E,className:P,ref:d,style:R,to:l,viewTransition:o},typeof c=="function"?c(S):c)});kx.displayName="NavLink";var Nx=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:l=wa,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},y)=>{let g=Tx(),j=Rx(o,{relative:u}),v=l.toLowerCase()==="get"?"get":"post",f=typeof o=="string"&&Ff.test(o),p=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let w=x.nativeEvent.submitter,_=(w==null?void 0:w.getAttribute("formmethod"))||l;g(w||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:y,method:v,action:j,onSubmit:n?c:p,...m,"data-discover":!f&&e==="render"?"true":void 0})});Nx.displayName="Form";function _x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bf(e){let t=b.useContext(Cn);return oe(t,_x(e)),t}function Sx(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:l}={}){let o=hc(),c=yr(),u=Ds(e,{relative:i});return b.useCallback(d=>{if(nx(d,t)){d.preventDefault();let h=r!==void 0?r:ks(c)===ks(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:l})}},[c,o,u,r,n,t,e,s,i,l])}var Ex=0,Cx=()=>`__${String(++Ex)}__`;function Tx(){let{router:e}=Bf("useSubmit"),{basename:t}=b.useContext(_t),r=K0();return b.useCallback(async(n,s={})=>{let{action:i,method:l,encType:o,formData:c,body:u}=ix(n,t);if(s.navigate===!1){let d=s.fetcherKey||Cx();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||l,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||l,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Rx(e,{relative:t}={}){let{basename:r}=b.useContext(_t),n=b.useContext(Wt);oe(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ds(e||".",{relative:t})},l=yr();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ot([r,i.pathname])),ks(i)}function Px(e,t={}){let r=b.useContext(Af);oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Bf("useViewTransitionState"),s=Ds(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ft(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ft(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ka(s.pathname,l)!=null||Ka(s.pathname,i)!=null}[...mx];const Ix="modulepreload",Ax=function(e){return"/"+e},Vu={},$s=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ax(c),c in Vu)return;Vu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ix,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Dx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $x extends xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qu extends xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ku extends xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var io;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(io||(io={}));var Ox=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Ux{constructor(t,{headers:r={},customFetch:n,region:s=io.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Dx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ox(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(j=>{throw new $x(j)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new qu(h);if(!h.ok)throw new Ku(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield h.json():y==="application/octet-stream"?g=yield h.blob():y==="text/event-stream"?g=h:y==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ku||s instanceof qu?s.context:void 0}}})}}var Le={},yc={},pi={},Os={},gi={},xi={},Lx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=Lx();const Mx=jn.fetch,Hf=jn.fetch.bind(jn),Wf=jn.Headers,zx=jn.Request,Fx=jn.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wf,Request:zx,Response:Fx,default:Hf,fetch:Mx},Symbol.toStringTag,{value:"Module"})),Bx=Sm(Tn);var yi={};Object.defineProperty(yi,"__esModule",{value:!0});let Hx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};yi.default=Hx;var Vf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const Wx=Vf(Bx),Vx=Vf(yi);let qx=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Wx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const j=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");j&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&j===""?(m=204,y="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new Vx.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};xi.default=qx;var Kx=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gi,"__esModule",{value:!0});const Gx=Kx(xi);let Jx=class extends Gx.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gi.default=Jx;var Qx=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Os,"__esModule",{value:!0});const Yx=Qx(gi);let Xx=class extends Yx.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Os.default=Xx;var Zx=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});const Bn=Zx(Os);let ey=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Bn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Bn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};pi.default=ey;var vi={},wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.version=void 0;wi.version="0.0.0-automated";Object.defineProperty(vi,"__esModule",{value:!0});vi.DEFAULT_HEADERS=void 0;const ty=wi;vi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ty.version}`};var qf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yc,"__esModule",{value:!0});const ry=qf(pi),ny=qf(Os),sy=vi;let ay=class Kf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},sy.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new ry.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Kf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ny.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};yc.default=ay;var Rn=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const Gf=Rn(yc);Le.PostgrestClient=Gf.default;const Jf=Rn(pi);Le.PostgrestQueryBuilder=Jf.default;const Qf=Rn(Os);Le.PostgrestFilterBuilder=Qf.default;const Yf=Rn(gi);Le.PostgrestTransformBuilder=Yf.default;const Xf=Rn(xi);Le.PostgrestBuilder=Xf.default;const Zf=Rn(yi);Le.PostgrestError=Zf.default;var iy=Le.default={PostgrestClient:Gf.default,PostgrestQueryBuilder:Jf.default,PostgrestFilterBuilder:Qf.default,PostgrestTransformBuilder:Yf.default,PostgrestBuilder:Xf.default,PostgrestError:Zf.default};const{PostgrestClient:ly,PostgrestQueryBuilder:Yw,PostgrestFilterBuilder:Xw,PostgrestTransformBuilder:Zw,PostgrestBuilder:eb,PostgrestError:tb}=iy;function oy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const cy=oy(),uy="2.11.15",dy=`realtime-js/${uy}`,hy="1.0.0",em=1e4,fy=1e3;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lt||(lt={}));var lo;(function(e){e.websocket="websocket"})(lo||(lo={}));var _r;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_r||(_r={}));class my{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class tm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const Gu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=py(l,e,t,s),i),{})},py=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?rm(i,l):oo(l)},rm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return vy(t,r)}switch(e){case Y.bool:return gy(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return xy(t);case Y.json:case Y.jsonb:return yy(t);case Y.timestamp:return wy(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return oo(t);default:return oo(t)}},oo=e=>e,gy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>rm(t,o))}return e},wy=e=>typeof e=="string"?e.replace(" ","T"):e,nm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class sl{constructor(t,r,n={},s=em){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ju;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ju||(Ju={}));class as{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=as.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=as.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(v=>v.presence_ref),y=h.map(v=>v.presence_ref),g=d.filter(v=>y.indexOf(v.presence_ref)<0),j=h.filter(v=>m.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),j.length>0&&(c[u]=j)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...m)}n(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qu||(Qu={}));var Yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yu||(Yu={}));var Rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class vc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sl(this,lt.join,this.params,this.timeout),this.rejoinTimer=new tm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new as(this),this.broadcastEndpointURL=nm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Rt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Rt.CLOSED));const c={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Rt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,g=[];for(let j=0;j<y;j++){const v=m[j],{filter:{event:f,schema:p,table:x,filter:w}}=v,_=d&&d[j];if(_&&_.event===f&&_.schema===p&&_.table===x&&_.filter===w)g.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=Ce.errored,t==null||t(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Rt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ce.errored,t==null||t(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new sl(this,lt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=lt;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,j,v;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(j=y.filter)===null||j===void 0?void 0:j.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===l}).map(y=>y.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var g,j,v,f,p,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const w=y.id,_=(g=y.filter)===null||g===void 0?void 0:g.event;return w&&((j=r.ids)===null||j===void 0?void 0:j.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(p=(f=y==null?void 0:y.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:j,table:v,commit_timestamp:f,type:p,errors:x}=g;m=Object.assign(Object.assign({},{schema:j,table:v,commit_timestamp:f,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(g))}y.callback(m,n)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lt.close,{},t)}_onError(t){this._on(lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gu(t.columns,t.old_record)),r}}const Xu=()=>{},by=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jy{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=em,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xu,this.ref=0,this.logger=Xu,this.conn=null,this.sendBuffer=[],this.serializer=new my,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>$s(async()=>{const{default:c}=await Promise.resolve().then(()=>Tn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${lo.websocket}`,this.httpEndpoint=nm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=cy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hy}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return _r.Connecting;case ss.open:return _r.Open;case ss.closing:return _r.Closing;default:return _r.Closed}}isConnected(){return this.connectionState()===_r.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:dy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(lt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(fy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([by],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class wc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ky extends wc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class co extends wc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ny=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const sm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_y=()=>Ny(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),uo=e=>{if(Array.isArray(e))return e.map(r=>uo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=uo(n)}),t};var Mr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sy=(e,t,r)=>Mr(void 0,void 0,void 0,function*(){const n=yield _y();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new ky(al(s),e.status||500))}).catch(s=>{t(new co(al(s),s))}):t(new co(al(e),e))}),Ey=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Us(e,t,r,n,s,i){return Mr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Ey(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Sy(c,o,n))})})}function Ga(e,t,r,n){return Mr(this,void 0,void 0,function*(){return Us(e,"GET",t,r,n)})}function Yt(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"POST",t,n,s,r)})}function Cy(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"PUT",t,n,s,r)})}function Ty(e,t,r,n){return Mr(this,void 0,void 0,function*(){return Us(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function am(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"DELETE",t,n,s,r)})}var $e=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ry={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Py{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=sm(s)}uploadOrUpdate(t,r,n,s){return $e(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Zu),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return $e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new wc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}update(t,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return $e(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return $e(this,void 0,void 0,function*(){try{const s=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}download(t,r){return $e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ga(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(xe(o))return{data:null,error:o};throw o}})}info(t){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ga(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uo(n),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}exists(t){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ty(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xe(n)&&n instanceof co){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield am(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}list(t,r,n){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ry),r),{prefix:t||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Iy="2.7.1",Ay={"X-Client-Info":`storage-js/${Iy}`};var Br=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Dy{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ay),r),this.fetch=sm(n)}listBuckets(){return Br(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Br(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Br(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield am(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}}class $y extends Dy{constructor(t,r={},n){super(t,r,n)}from(t){return new Py(this.url,this.headers,t,this.fetch)}}const Oy="2.51.0";let Kn="";typeof Deno<"u"?Kn="deno":typeof document<"u"?Kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kn="react-native":Kn="node";const Uy={"X-Client-Info":`supabase-js-${Kn}/${Oy}`},Ly={headers:Uy},My={schema:"public"},zy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fy={};var By=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Hf:t=fetch,(...r)=>t(...r)},Wy=()=>typeof Headers>"u"?Wf:Headers,Vy=(e,t,r)=>{const n=Hy(r),s=Wy();return(i,l)=>By(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var qy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function Ky(e){return e.endsWith("/")?e:e+"/"}function Gy(e,t){var r,n;const{db:s,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>qy(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const im="2.71.0",Kr=30*1e3,ho=3,il=ho*Kr,Jy="http://localhost:9999",Qy="supabase.auth.token",Yy={"X-Client-Info":`gotrue-js/${im}`},fo="X-Supabase-Api-Version",lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zy=10*60*1e3;class bc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ev extends bc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tv(e){return M(e)&&e.name==="AuthApiError"}class om extends bc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vr extends bc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Gt extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rv(e){return M(e)&&e.name==="AuthSessionMissingError"}class aa extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ia extends vr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class la extends vr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nv(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class ed extends vr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mo extends vr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ll(e){return M(e)&&e.name==="AuthRetryableFetchError"}class td extends vr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class po extends vr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),sv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rd.length;t+=1)e[rd[t].charCodeAt(0)]=-2;for(let t=0;t<Ja.length;t+=1)e[Ja[t].charCodeAt(0)]=t;return e})();function nd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ja[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ja[n]),t.queuedBits-=6}}function cm(e,t,r){const n=sv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sd(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{lv(l,n,r)};for(let l=0;l<e.length;l+=1)cm(e.charCodeAt(l),s,i);return t.join("")}function av(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}av(n,t)}}function lv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ov(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)cm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function cv(e){const t=[];return iv(e,r=>t.push(r)),new Uint8Array(t)}function uv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>nd(s,r,n)),nd(null,r,n),t.join("")}function dv(e){return Math.round(Date.now()/1e3)+e}function hv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const st=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},um=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function fv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const dm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},mv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},br=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(e,t)=>{await e.removeItem(t)};class bi{constructor(){this.promise=new bi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bi.promiseConstructor=Promise;function ol(e){const t=e.split(".");if(t.length!==3)throw new po("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Xy.test(t[n]))throw new po("JWT not in base64url format");return{header:JSON.parse(sd(t[0])),payload:JSON.parse(sd(t[1])),signature:ov(t[2]),raw:{header:t[0],payload:t[1]}}}async function pv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function xv(e){return("0"+e.toString(16)).substr(-2)}function yv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xv).join("")}async function vv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(e,t,r=!1){const n=yv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gr(e,`${t}-code-verifier`,s);const i=await wv(n);return[i,n===i?"plain":"s256"]}const bv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jv(e){const t=e.headers.get(fo);if(!t||!t.match(bv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Nv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _v=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wr(e){if(!_v.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Sv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ev=[502,503,504];async function ad(e){var t;if(!mv(e))throw new mo(Nr(e),0);if(Ev.includes(e.status))throw new mo(Nr(e),e.status);let r;try{r=await e.json()}catch(i){throw new om(Nr(i),i)}let n;const s=jv(e);if(s&&s.getTime()>=lm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new td(Nr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new td(Nr(r),e.status,r.weak_password.reasons);throw new ev(Nr(r),e.status||500,n)}const Cv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[fo]||(i[fo]=lm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Tv(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tv(e,t,r,n,s,i){const l=Cv(t,n,s,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new mo(Nr(c),0)}if(o.ok||await ad(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await ad(c)}}function Ct(e){var t;let r=null;Av(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function id(e){const t=Ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rv(e){return{data:e,error:null}}function Pv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=Sv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Iv(e){return e}function Av(e){return e.access_token&&e.refresh_token&&e.expires_in}const ul=["global","local","others"];var Dv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $v{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=dm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ul[0]){if(ul.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ul.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Iv});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(g=>{const j=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=j}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wr(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wr(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:er})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wr(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wr(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wr(t.userId),Wr(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function ld(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ov(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vr={debug:!!(globalThis&&um()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uv extends hm{}async function Lv(e,t,r){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ov();const Mv={url:Jy,storageKey:Qy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function od(e,t,r){return await r()}const qr={};class Ns{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $v({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dm(s.fetch),this.lock=s.lock||od,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:st()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Lv:this.lock=od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:um()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ld(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ld(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=qr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${im}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),st()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new om("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ct}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Hr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:g},xform:Ct})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ct})}else throw new ia("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:id})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:id})}else throw new ia("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new aa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,o,c,u,d,h,m,y;let g,j;if("message"in t)g=t.message,j=t.signature;else{const{chain:v,wallet:f,statement:p,options:x}=t;let w;if(st())if(typeof f=="object")w=f;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=f}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),j=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=k}}try{const{data:v,error:f}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uv(j)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ct});if(f)throw f;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new aa}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:f})}catch(v){if(M(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ct});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new aa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ct}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new aa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hr(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ia("You must provide either an email or phone number.")}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ct});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Hr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Rv})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new ia("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await br(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=cl()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(r){if(M(r))return rv(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Gt;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Hr(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:er});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=ol(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!st())throw new la("No browser detected.");if(t.error||t.error_description||t.error_code)throw new la(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new la("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ed("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new la("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const g=m-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:j,error:v}=await this._getUser(i);if(v)throw v;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(tv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return st()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gv(async s=>(s>0&&await pv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ct})),(s,i)=>{const l=200*Math.pow(2,s);return i&&ll(i)&&Date.now()+l-n<Kr})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),st()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await br(this.storage,this.storageKey);if(s&&this.userStorage){let l=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Gr(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:cl()}else if(s&&!s.user&&!s.user){const l=await br(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Kt(this.storage,this.storageKey+"-user"),await Gr(this.storage,this.storageKey,s)):s.user=cl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<il;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${il}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),ll(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),M(i)){const l={session:null,error:i};return ll(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=structuredClone(s);await Gr(this.storage,this.storageKey,i)}else{const s=structuredClone(r);await Gr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kr}ms, refresh threshold is ${ho} ticks`),s<=ho&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Hr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ol(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Zy>s)return n;const{data:i,error:l}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:g}=await this.getSession();if(g||!y.session)return{data:null,error:g};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=ol(n);r!=null&&r.allowExpired||kv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const d=Nv(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,cv(`${o}.${c}`)))throw new po("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}Ns.nextInstanceID=0;const zv=Ns;class Fv extends zv{constructor(t){super(t)}}var Bv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Hv{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Ky(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:My,realtime:Fy,auth:Object.assign(Object.assign({},zy),{storageKey:u}),global:Ly},h=Gy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=Vy(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ly(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $y(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Bv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new jy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wv=(e,t,r)=>new Hv(e,t,r),Qa="https://qbkdrrafwcborsgieuce.supabase.co",jc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFia2RycmFmd2Nib3JzZ2lldWNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODQ3NzksImV4cCI6MjA2ODI2MDc3OX0.VirTJU7w5HLY_mpAC-sDKjhbSCQcWDRkBy-BQ0dNO_A";console.log(" Supabase Config Check:",{url:" Set",key:" Set",urlValue:Qa,keyPreview:jc.substring(0,20)+"..."});const A=Wv(Qa,jc,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"x-my-custom-header":"rekberx-app"}}}),fm=async()=>{try{console.log(" Testing Supabase connection...");const e=Date.now(),{data:t,error:r}=await A.from("users").select("id").limit(1),n=Date.now()-e;return r?(console.error(" Database connection failed:",r),{isConnected:!1,latency:null,error:r.message}):(console.log(" Database connected successfully:",{latency:n,recordCount:(t==null?void 0:t.length)||0}),{isConnected:!0,latency:n,error:null})}catch(e){return console.error(" Connection test failed:",e),{isConnected:!1,latency:null,error:e instanceof Error?e.message:"Unknown error"}}},mm=()=>{const e={hasUrl:!!Qa,hasKey:!!jc,mode:"production",urlPreview:Qa.substring(0,50)+"..."};return console.log(" Environment info:",e),e},Vv=async()=>{try{console.log(" Testing realtime connection...");const e=`connection-test-${Date.now()}`,t=A.channel(e);return new Promise(r=>{const n=setTimeout(()=>{console.log(" Realtime connection test timeout");try{t.unsubscribe()}catch(s){console.error(" Error unsubscribing test channel:",s)}r(!1)},5e3);t.on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{console.log(" Realtime test event received")}).subscribe(s=>{console.log(" Realtime test subscription status:",s),clearTimeout(n);const i=s==="SUBSCRIBED";setTimeout(()=>{try{t.unsubscribe()}catch(l){console.error(" Error unsubscribing test channel:",l)}},100),r(i)})})}catch(e){return console.error(" Realtime connection test failed:",e),!1}};class Oe{static async register(t,r){try{console.log(" Starting registration process for:",t);const{data:n,error:s}=await A.from("users").select("username").eq("username",t).maybeSingle();if(s)return console.error(" Error checking username:",s),{success:!1,error:"Database connection error"};if(n)return{success:!1,error:"Username sudah digunakan"};let i,l=!1,o=0;for(;!l&&o<10;){i=(1e5+Math.floor(Math.random()*9e5)).toString();const{data:x}=await A.from("users").select("user_id").eq("user_id",i).maybeSingle();x||(l=!0),o++}if(!l)return{success:!1,error:"Failed to generate unique user ID"};const{count:c,error:u}=await A.from("users").select("*",{count:"exact",head:!0});if(u)return console.error(" Error counting users:",u),{success:!1,error:"Database error"};const m=c===0||t==="semz444"?"owner":"user",y=`${t}@rekberx.local`,{data:g,error:j}=await A.auth.signUp({email:y,password:r,options:{data:{username:t,user_id:i,role:m}}});if(j)return console.error(" Auth signup error:",j),{success:!1,error:j.message};if(!g.user)return{success:!1,error:"Failed to create auth user"};const v={id:g.user.id,username:t,user_id:i,email:y,role:m},{data:f,error:p}=await A.from("users").insert(v).select().single();return p?(console.error(" Profile creation error:",p),{success:!1,error:p.message}):(console.log(" User registered successfully:",f.username),{success:!0,user:f})}catch(n){return console.error(" Registration error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async login(t,r){try{console.log(" Starting login process for:",t);const{data:n,error:s}=await A.from("users").select("*").eq("username",t).maybeSingle();if(s)return console.error(" Error fetching user:",s),{success:!1,error:"Database connection error"};if(!n)return{success:!1,error:"Username atau password salah"};const{data:i,error:l}=await A.auth.signInWithPassword({email:n.email||`${t}@rekberx.local`,password:r});return l?(console.error(" Auth login error:",l),{success:!1,error:"Username atau password salah"}):(console.log(" User logged in successfully:",n.username),{success:!0,user:n})}catch(n){return console.error(" Login error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async logout(){try{console.log(" Logging out user..."),await A.auth.signOut(),console.log(" User logged out successfully")}catch(t){console.error(" Logout error:",t)}}static async getCurrentUser(){try{const{data:{user:t}}=await A.auth.getUser();if(!t)return console.log(" No authenticated user found"),null;const{data:r,error:n}=await A.from("users").select("*").eq("id",t.id).maybeSingle();return n?(console.error(" Error fetching user profile:",n),null):r}catch(t){return console.error(" Error getting current user:",t),null}}static async updateUser(t,r){try{console.log(" Updating user:",t,r);const{data:n,error:s}=await A.from("users").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?(console.error(" Error updating user:",s),{success:!1,error:s.message}):(console.log(" User updated successfully"),{success:!0,user:n})}catch(n){return console.error(" Update user error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async getAllUsers(){try{console.log(" Fetching all users from database...");const{data:t,error:r}=await A.from("users").select("*").order("created_at",{ascending:!1});return r?(console.error(" Error fetching users:",r),[]):(console.log(" Fetched users:",(t==null?void 0:t.length)||0),t||[])}catch(t){return console.error(" Error fetching users:",t),[]}}static async deleteUser(t){try{console.log(" Deleting user:",t);const{error:r}=await A.from("users").delete().eq("username",t);return r?(console.error(" Error deleting user:",r),!1):(console.log(" User deleted successfully"),!0)}catch(r){return console.error(" Delete user error:",r),!1}}static async updateUserId(t,r){try{console.log(" Updating user ID:",t,"->",r);const{error:n}=await A.from("users").update({user_id:r,updated_at:new Date().toISOString()}).eq("username",t);return n?(console.error(" Error updating user ID:",n),!1):(console.log(" User ID updated successfully"),!0)}catch(n){return console.error(" Update user ID error:",n),!1}}static async setCustomRole(t,r,n,s){try{console.log(" Setting custom role:",t,r);const{error:i}=await A.from("users").update({custom_role:r,custom_role_color:n,custom_role_emoji:s,updated_at:new Date().toISOString()}).eq("username",t);return i?(console.error(" Error setting custom role:",i),!1):(console.log(" Custom role set successfully"),!0)}catch(i){return console.error(" Set custom role error:",i),!1}}static async removeCustomRole(t){try{console.log(" Removing custom role:",t);const{error:r}=await A.from("users").update({custom_role:null,custom_role_color:null,custom_role_emoji:null,updated_at:new Date().toISOString()}).eq("username",t);return r?(console.error(" Error removing custom role:",r),!1):(console.log(" Custom role removed successfully"),!0)}catch(r){return console.error(" Remove custom role error:",r),!1}}}const qv=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{(async()=>{const{data:{session:y}}=await A.auth.getSession();if(y!=null&&y.user){i(y.user);const g=await Oe.getCurrentUser();t(g)}n(!1)})();const{data:{subscription:m}}=A.auth.onAuthStateChange(async(y,g)=>{var j;if(console.log("Auth state changed:",y,(j=g==null?void 0:g.user)==null?void 0:j.id),g!=null&&g.user){i(g.user);const v=await Oe.getCurrentUser();t(v)}else i(null),t(null);n(!1)});return()=>{m.unsubscribe()}},[]),{user:e,authUser:s,loading:r,login:async(h,m)=>{const y=await Oe.login(h,m);return y.success&&y.user?(t(y.user),!0):!1},register:async(h,m)=>(await Oe.register(h,m)).success,logout:async()=>{await Oe.logout(),t(null),i(null)},isAdmin:()=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner",isOwner:()=>(e==null?void 0:e.role)==="owner"}},pm=b.createContext(void 0),Vt=()=>{const e=b.useContext(pm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Kv=({children:e})=>{const{user:t,loading:r,login:n,register:s,logout:i,isAdmin:l,isOwner:o}=qv(),j={user:t,loading:r,login:n,register:s,logout:i,isAdmin:l,isOwner:o,updateUserId:async(v,f)=>o()?await Oe.updateUserId(v,f):!1,updateUserRole:async(v,f)=>{if(!o())return!1;try{const x=(await Oe.getAllUsers()).find(_=>_.username===v);return x?(await Oe.updateUser(x.id,{role:f})).success:!1}catch(p){return console.error("Error updating user role:",p),!1}},createAdmin:async(v,f,p)=>{if(!o())return!1;const x=await Oe.register(v,f);return x.success&&x.user?(await Oe.updateUser(x.user.id,{role:"admin",user_id:p})).success:!1},getAllUsers:async()=>await Oe.getAllUsers(),deleteUser:async v=>o()?await Oe.deleteUser(v):!1,setCustomRole:async(v,f,p,x)=>o()?await Oe.setCustomRole(v,f,p,x):!1,removeCustomRole:async v=>o()?await Oe.removeCustomRole(v):!1};return a.jsx(pm.Provider,{value:j,children:e})};class vt{static async getChatRooms(){try{console.log(" Fetching chat rooms from database...");const{data:t,error:r}=await A.from("chat_rooms").select("*").order("created_at",{ascending:!0});if(r)throw console.error(" Error fetching chat rooms:",r),new Error(`Database error: ${r.message}`);return console.log(" Fetched chat rooms:",(t==null?void 0:t.length)||0),t||[]}catch(t){throw console.error(" Error fetching chat rooms:",t),t}}static async getMessages(t){try{console.log(" Fetching messages for room:",t);const{data:r,error:n}=await A.from("messages").select("*").eq("room_id",t).order("created_at",{ascending:!0});if(n)throw console.error(" Error fetching messages:",n),new Error(`Database error: ${n.message}`);return console.log(" Fetched messages:",(r==null?void 0:r.length)||0),r||[]}catch(r){throw console.error(" Error fetching messages:",r),r}}static async sendMessage(t){try{console.log(" Sending message to database:",t.content.substring(0,50));const{data:r,error:n}=await A.from("messages").insert(t).select().single();return n?(console.error(" Error sending message:",n),{success:!1,error:n.message}):(console.log(" Message sent successfully"),{success:!0,message:r})}catch(r){return console.error(" Send message error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async editMessage(t,r){try{console.log(" Editing message:",t);const{data:n,error:s}=await A.from("messages").update({content:r,is_edited:!0,edited_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?(console.error(" Error editing message:",s),{success:!1,error:s.message}):(console.log(" Message edited successfully"),{success:!0,message:n})}catch(n){return console.error(" Edit message error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async deleteMessage(t){try{console.log(" Deleting message:",t);const{error:r}=await A.from("messages").delete().eq("id",t);return r?(console.error(" Error deleting message:",r),!1):(console.log(" Message deleted successfully"),!0)}catch(r){return console.error(" Delete message error:",r),!1}}static async createChatRoom(t){try{console.log(" Creating chat room:",t.name);const{data:r,error:n}=await A.from("chat_rooms").insert(t).select().single();return n?(console.error(" Error creating chat room:",n),{success:!1,error:n.message}):(console.log(" Chat room created successfully"),{success:!0,room:r})}catch(r){return console.error(" Create chat room error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async updateChatRoom(t,r){try{console.log(" Updating chat room:",t);const{data:n,error:s}=await A.from("chat_rooms").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?(console.error(" Error updating chat room:",s),{success:!1,error:s.message}):(console.log(" Chat room updated successfully"),{success:!0,room:n})}catch(n){return console.error(" Update chat room error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async deleteChatRoom(t){try{console.log(" Deleting chat room:",t);const{error:r}=await A.from("chat_rooms").delete().eq("id",t);return r?(console.error(" Error deleting chat room:",r),!1):(console.log(" Chat room deleted successfully"),!0)}catch(r){return console.error(" Delete chat room error:",r),!1}}static subscribeToMessages(t,r){return console.log(" Subscribing to messages for room:",t),A.channel(`messages:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${t}`},n=>{console.log(" New message received:",n.new),r(n.new)}).subscribe(n=>{console.log(" Message subscription status:",n)})}static subscribeToMessageUpdates(t,r){return console.log(" Subscribing to message updates for room:",t),A.channel(`message_updates:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`room_id=eq.${t}`},n=>{console.log(" Message updated:",n.new),r(n.new)}).subscribe(n=>{console.log(" Message update subscription status:",n)})}static subscribeToMessageDeletions(t,r){return console.log(" Subscribing to message deletions for room:",t),A.channel(`message_deletions:${t}`).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages",filter:`room_id=eq.${t}`},n=>{console.log(" Message deleted:",n.old),r(n.old.id)}).subscribe(n=>{console.log(" Message deletion subscription status:",n)})}static subscribeToChatRooms(t){return console.log(" Subscribing to chat room changes"),A.channel("chat_rooms").on("postgres_changes",{event:"*",schema:"public",table:"chat_rooms"},r=>{console.log(" Chat room changed:",r),(r.eventType==="INSERT"||r.eventType==="UPDATE")&&t(r.new)}).subscribe(r=>{console.log(" Chat room subscription status:",r)})}}class ja{static async getGameTopics(){try{const{data:t,error:r}=await A.from("game_topics").select("*").eq("is_active",!0).order("created_at",{ascending:!0});return r?(console.error("Error fetching game topics:",r),[]):t||[]}catch(t){return console.error("Error fetching game topics:",t),[]}}static async getAllGameTopics(){try{const{data:t,error:r}=await A.from("game_topics").select("*").order("created_at",{ascending:!0});return r?(console.error("Error fetching all game topics:",r),[]):t||[]}catch(t){return console.error("Error fetching all game topics:",t),[]}}static async addGameTopic(t){try{const{data:r,error:n}=await A.from("game_topics").insert(t).select().single();if(n)return{success:!1,error:n.message};const{error:s}=await A.from("chat_rooms").insert({name:r.name,type:"public",game:r.name,created_by:t.created_by});return s&&console.error("Error creating chat room for topic:",s),{success:!0,topic:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async updateGameTopic(t,r){try{const{data:n,error:s}=await A.from("game_topics").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?{success:!1,error:s.message}:{success:!0,topic:n}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async deleteGameTopic(t){try{const{data:r}=await A.from("game_topics").select("name").eq("id",t).single();r&&await A.from("chat_rooms").delete().eq("game",r.name).eq("type","public");const{error:n}=await A.from("game_topics").delete().eq("id",t);return!n}catch(r){return console.error("Error deleting game topic:",r),!1}}static subscribeToGameTopics(t){return A.channel("game_topics").on("postgres_changes",{event:"*",schema:"public",table:"game_topics"},r=>{(r.eventType==="INSERT"||r.eventType==="UPDATE")&&t(r.new)}).subscribe()}}class on{static async getRekberInvites(t){try{const{data:r,error:n}=await A.from("rekber_invites").select("*").or(`from_user_id.eq.${t},to_user_id.eq.${t}`).order("created_at",{ascending:!1});return n?(console.error("Error fetching rekber invites:",n),[]):r||[]}catch(r){return console.error("Error fetching rekber invites:",r),[]}}static async sendRekberInvite(t){try{const{data:r,error:n}=await A.from("rekber_invites").insert(t).select().single();return n?{success:!1,error:n.message}:{success:!0,invite:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async acceptRekberInvite(t,r){try{const{data:n,error:s}=await A.from("rekber_invites").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s||!n)return{success:!1,error:(s==null?void 0:s.message)||"Invite not found"};const i={name:`${n.game} - ${n.from_username} & ${n.to_username}`,type:"rekber",game:n.game,participants:[n.from_user_id,n.to_user_id],status:"active",created_by:r},{data:l,error:o}=await A.from("chat_rooms").insert(i).select().single();return o?{success:!1,error:o.message}:(await A.from("messages").insert({room_id:l.id,sender_id:"SYSTEM",sender_username:"RekberX System",content:` Grup Rekber ${n.game} telah dibuat. Admin akan membantu memastikan transaksi berjalan aman untuk kedua belah pihak.`,message_type:"text"}),{success:!0,room:l})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async rejectRekberInvite(t){try{const{error:r}=await A.from("rekber_invites").update({status:"rejected",updated_at:new Date().toISOString()}).eq("id",t);return!r}catch(r){return console.error("Error rejecting rekber invite:",r),!1}}static async getRekberGroups(){try{const{data:t,error:r}=await A.from("chat_rooms").select("*").eq("type","rekber").order("created_at",{ascending:!1});return r?(console.error("Error fetching rekber groups:",r),[]):t||[]}catch(t){return console.error("Error fetching rekber groups:",t),[]}}static async claimRekberGroup(t,r){try{const{error:n}=await A.from("chat_rooms").update({claimed_by:r,updated_at:new Date().toISOString()}).eq("id",t).eq("type","rekber").is("claimed_by",null);return!n}catch(n){return console.error("Error claiming rekber group:",n),!1}}static async updateRekberStatus(t,r){try{const{error:n}=await A.from("chat_rooms").update({status:r,updated_at:new Date().toISOString()}).eq("id",t).eq("type","rekber");return!n}catch(n){return console.error("Error updating rekber status:",n),!1}}static subscribeToRekberInvites(t,r){return A.channel(`rekber_invites:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"rekber_invites",filter:`to_user_id=eq.${t}`},n=>{r(n.new)}).subscribe()}}class Gv{static async uploadImage(t,r="images"){try{const n=t.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,i=`${r}/${s}`,{error:l}=await A.storage.from(r).upload(i,t);if(l)return{success:!1,error:l.message};const{data:{publicUrl:o}}=A.storage.from(r).getPublicUrl(i);return{success:!0,url:o}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async deleteImage(t,r="images"){try{const{error:n}=await A.storage.from(r).remove([t]);return!n}catch(n){return console.error("Error deleting image:",n),!1}}static getPublicUrl(t,r="images"){const{data:{publicUrl:n}}=A.storage.from(r).getPublicUrl(t);return n}}const Jv=e=>{const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,l]=b.useState([]),[o,c]=b.useState(!0),[u,d]=b.useState([]),[h,m]=b.useState({}),y=b.useRef([]),g=b.useRef(null),j=b.useCallback(()=>{console.log(" Cleaning up subscriptions..."),y.current.forEach(P=>{try{P&&typeof P.unsubscribe=="function"&&P.unsubscribe()}catch(R){console.error(" Error unsubscribing:",R)}}),y.current=[],g.current&&(clearInterval(g.current),g.current=null)},[]);b.useEffect(()=>{(async()=>{try{console.log(" Loading initial chat data from Supabase..."),c(!0);const[R,L,G]=await Promise.all([vt.getChatRooms(),ja.getGameTopics(),e?on.getRekberInvites(e):Promise.resolve([])]);console.log(" Initial data loaded:",{rooms:R.length,topics:L.length,invites:G.length});const U=await Promise.all(R.map(async F=>{try{const O=await vt.getMessages(F.id);return{...F,messages:O}}catch(O){return console.error(" Error loading messages for room:",F.id,O),{...F,messages:[]}}}));r(U),s(L),l(G),console.log(" Initial data loaded successfully")}catch(R){console.error(" Error loading initial chat data:",R),r([]),s([]),l([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(e){console.log(" Setting up realtime subscriptions for user:",e),j();try{const P=A.channel(`messages_${Date.now()}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},N=>{console.log(" New message received:",N.new);const C=N.new;r(I=>I.map(D=>D.id===C.room_id?{...D,messages:[...D.messages||[],C],last_message_at:C.created_at,message_count:(D.message_count||0)+1}:D))}).subscribe(N=>{console.log(" Messages subscription status:",N)});y.current.push(P);const R=A.channel(`message_updates_${Date.now()}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},N=>{console.log(" Message updated:",N.new);const C=N.new;r(I=>I.map(D=>D.id===C.room_id?{...D,messages:(D.messages||[]).map(K=>K.id===C.id?C:K)}:D))}).subscribe(N=>{console.log(" Message updates subscription status:",N)});y.current.push(R);const L=A.channel(`message_deletions_${Date.now()}`).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},N=>{console.log(" Message deleted:",N.old);const C=N.old;r(I=>I.map(D=>D.id===C.room_id?{...D,messages:(D.messages||[]).filter(K=>K.id!==C.id),message_count:Math.max((D.message_count||1)-1,0)}:D))}).subscribe(N=>{console.log(" Message deletions subscription status:",N)});y.current.push(L);const G=A.channel(`chat_rooms_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"chat_rooms"},async N=>{if(console.log(" Chat room changed:",N),N.eventType==="INSERT"){const C=N.new,I=await vt.getMessages(C.id);r(D=>[...D,{...C,messages:I}])}else if(N.eventType==="UPDATE"){const C=N.new;r(I=>I.map(D=>D.id===C.id?{...D,...C}:D))}else if(N.eventType==="DELETE"){const C=N.old;r(I=>I.filter(D=>D.id!==C.id))}}).subscribe(N=>{console.log(" Chat rooms subscription status:",N)});y.current.push(G);const U=A.channel(`game_topics_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"game_topics"},N=>{if(console.log(" Game topic changed:",N),N.eventType==="INSERT"){const C=N.new;s(I=>[...I,C])}else if(N.eventType==="UPDATE"){const C=N.new;s(I=>I.map(D=>D.id===C.id?C:D))}else if(N.eventType==="DELETE"){const C=N.old;s(I=>I.filter(D=>D.id!==C.id))}}).subscribe(N=>{console.log(" Game topics subscription status:",N)});y.current.push(U);const F=A.channel(`rekber_invites_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"rekber_invites",filter:`to_user_id=eq.${e}`},N=>{if(console.log(" Rekber invite changed:",N),N.eventType==="INSERT"){const C=N.new;l(I=>[C,...I])}else if(N.eventType==="UPDATE"){const C=N.new;l(I=>I.map(D=>D.id===C.id?C:D))}}).subscribe(N=>{console.log(" Rekber invites subscription status:",N)});y.current.push(F);const O=async()=>{if(e)try{await A.rpc("update_user_presence",{user_id_param:e,username_param:"User"})}catch(N){console.error(" Error updating presence:",N)}};O(),g.current=setInterval(O,3e4);const Q=A.channel(`user_presence_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"user_sessions"},N=>{if(console.log(" User presence changed:",N),N.eventType==="INSERT"||N.eventType==="UPDATE"){const C=N.new;d(I=>[...I.filter(K=>K!==C.user_id),C.user_id])}else if(N.eventType==="DELETE"){const C=N.old;d(I=>I.filter(D=>D!==C.user_id))}}).subscribe(N=>{console.log(" User presence subscription status:",N)});y.current.push(Q);const he=A.channel(`typing_indicators_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"typing_indicators"},N=>{if(console.log(" Typing indicator changed:",N),N.eventType==="INSERT"){const C=N.new;m(I=>({...I,[C.room_id]:[...I[C.room_id]||[],C.username]}))}else if(N.eventType==="DELETE"){const C=N.old;m(I=>({...I,[C.room_id]:(I[C.room_id]||[]).filter(D=>D!==C.username)}))}}).subscribe(N=>{console.log(" Typing indicators subscription status:",N)});y.current.push(he),console.log(" All realtime subscriptions set up successfully")}catch(P){console.error(" Error setting up realtime subscriptions:",P)}return()=>{console.log(" Cleaning up realtime subscriptions..."),j(),e&&A.from("user_sessions").delete().eq("user_id",e).then(()=>console.log(" User presence cleaned up")).catch(P=>console.error(" Error cleaning up presence:",P))}}},[e,j]);const v=b.useCallback(async(P,R,L="text",G)=>{if(!e)return console.error(" Cannot send message: No user ID"),!1;try{console.log(" Sending message:",{roomId:P,content:R.substring(0,50),messageType:L});let U;if(G&&L==="image"){console.log(" Uploading image...");const Q=await Gv.uploadImage(G);if(!Q.success)throw console.error(" Image upload failed:",Q.error),new Error(Q.error);U=Q.url,console.log(" Image uploaded successfully")}const F={room_id:P,sender_id:e,sender_username:"User",content:R,message_type:L,image_url:U},O=await vt.sendMessage(F);if(O.success){try{await A.from("typing_indicators").delete().eq("room_id",P).eq("user_id",e)}catch(Q){console.error(" Error clearing typing indicator:",Q)}return console.log(" Message sent successfully"),!0}else return console.error(" Failed to send message:",O.error),!1}catch(U){return console.error(" Error sending message:",U),!1}},[e]),f=b.useCallback(async(P,R)=>{try{console.log(" Editing message:",P);const L=await vt.editMessage(P,R);return L.success?(console.log(" Message edited successfully"),!0):(console.error(" Failed to edit message:",L.error),!1)}catch(L){return console.error(" Error editing message:",L),!1}},[]),p=b.useCallback(async P=>{try{return console.log(" Deleting message:",P),await vt.deleteMessage(P)?(console.log(" Message deleted successfully"),!0):(console.error(" Failed to delete message"),!1)}catch(R){return console.error(" Error deleting message:",R),!1}},[]),x=b.useCallback(async(P,R)=>{if(e)try{R?await A.from("typing_indicators").upsert({room_id:P,user_id:e,username:"User",expires_at:new Date(Date.now()+5e3).toISOString()}):await A.from("typing_indicators").delete().eq("room_id",P).eq("user_id",e)}catch(L){console.error(" Error sending typing indicator:",L)}},[e]),w=b.useCallback(async(P,R,L)=>{if(!e)return!1;try{console.log(" Sending rekber invite:",{targetUserId:P,game:L});const G=await on.sendRekberInvite({from_user_id:e,from_username:"User",to_user_id:P,to_username:R,game:L});return G.success?(console.log(" Rekber invite sent successfully"),!0):(console.error(" Failed to send rekber invite:",G.error),!1)}catch(G){return console.error(" Error sending rekber invite:",G),!1}},[e]),_=b.useCallback(async P=>{if(!e)return!1;try{console.log(" Accepting rekber invite:",P);const R=await on.acceptRekberInvite(P,e);if(R.success&&R.room){const L=await vt.getMessages(R.room.id);return r(G=>[...G,{...R.room,messages:L}]),console.log(" Rekber invite accepted successfully"),!0}else return console.error(" Failed to accept rekber invite:",R.error),!1}catch(R){return console.error(" Error accepting rekber invite:",R),!1}},[e]),k=b.useCallback(async P=>{try{return console.log(" Rejecting rekber invite:",P),await on.rejectRekberInvite(P)?(console.log(" Rekber invite rejected successfully"),!0):(console.error(" Failed to reject rekber invite"),!1)}catch(R){return console.error(" Error rejecting rekber invite:",R),!1}},[]),S=b.useCallback(P=>{const R=t.find(L=>L.id===P);return(R==null?void 0:R.messages)||[]},[t]),E=b.useCallback(()=>i.filter(P=>P.to_user_id===e&&P.status==="pending").length,[i,e]);return{rooms:t,gameTopics:n,invites:i,loading:o,onlineUsers:u,typingUsers:h,sendMessage:v,editMessage:f,deleteMessage:p,sendTypingIndicator:x,sendRekberInvite:w,acceptRekberInvite:_,rejectRekberInvite:k,getRoomMessages:S,getUnreadInvitesCount:E}};class Qv{static async submitReport(t){try{const{data:r,error:n}=await A.from("user_reports").insert(t).select().single();return n?{success:!1,error:n.message}:{success:!0,report:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async getAllReports(){try{const{data:t,error:r}=await A.from("user_reports").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching reports:",r),[]):t||[]}catch(t){return console.error("Error fetching reports:",t),[]}}static async getReportsByStatus(t){try{const{data:r,error:n}=await A.from("user_reports").select("*").eq("status",t).order("created_at",{ascending:!1});return n?(console.error("Error fetching reports by status:",n),[]):r||[]}catch(r){return console.error("Error fetching reports by status:",r),[]}}static async updateReport(t,r){try{const{data:n,error:s}=await A.from("user_reports").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?{success:!1,error:s.message}:{success:!0,report:n}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}static async takeActionOnReport(t,r){try{const n={...r,actionTimestamp:new Date().toISOString()},{error:s}=await A.from("user_reports").update({status:"resolved",admin_action:n,updated_at:new Date().toISOString()}).eq("id",t);return!s}catch(n){return console.error("Error taking action on report:",n),!1}}static subscribeToReports(t){return A.channel("user_reports").on("postgres_changes",{event:"INSERT",schema:"public",table:"user_reports"},r=>{t(r.new)}).subscribe()}}const gm=b.createContext(void 0),Pn=()=>{const e=b.useContext(gm);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e},Yv=({children:e})=>{const{user:t,isAdmin:r}=Vt(),{rooms:n,gameTopics:s,invites:i,loading:l,sendMessage:o,editMessage:c,deleteMessage:u,sendRekberInvite:d,acceptRekberInvite:h,rejectRekberInvite:m,getRoomMessages:y,getUnreadInvitesCount:g}=Jv(t==null?void 0:t.user_id),j=15,v=30,G={rooms:n,gameTopics:s,invites:i,loading:l,sendMessage:o,editMessage:c,deleteMessage:u,getRoomMessages:y,sendRekberInvite:d,acceptRekberInvite:h,rejectRekberInvite:m,getUnreadInvitesCount:g,createPrivateChat:async(U,F)=>{if(!t)return null;try{const O=[t.user_id,U].sort(),Q=`${t.username} & ${F}`,he=n.find(C=>{var I,D;return C.type==="private"&&((I=C.participants)==null?void 0:I.includes(t.user_id))&&((D=C.participants)==null?void 0:D.includes(U))});if(he)return he.id;const N=await vt.createChatRoom({name:Q,type:"private",participants:O,created_by:t.id});return N.success&&N.room?(await vt.sendMessage({room_id:N.room.id,sender_id:"SYSTEM",sender_username:"RekberX System",content:` Chat pribadi antara ${t.username} dan ${F} telah dimulai.`,message_type:"text"}),N.room.id):null}catch(O){return console.error("Error creating private chat:",O),null}},deleteRoom:async U=>{var F;if(!t)return!1;try{const O=n.find(Q=>Q.id===U);return!O||O.type==="public"||O.type==="rekber"&&O.status==="active"||O.type==="private"&&!((F=O.participants)!=null&&F.includes(t.user_id))?!1:await vt.deleteChatRoom(U)}catch(O){return console.error("Error deleting room:",O),!1}},addGameTopic:async(U,F,O,Q)=>{if(!t||!r())return!1;try{const he={name:U,description:F,icon:O,icon_url:Q,created_by:t.id};return(await ja.addGameTopic(he)).success}catch(he){return console.error("Error adding game topic:",he),!1}},updateGameTopic:async(U,F)=>{if(!r())return!1;try{return(await ja.updateGameTopic(U,F)).success}catch(O){return console.error("Error updating game topic:",O),!1}},deleteGameTopic:async U=>{if(!r())return!1;try{return await ja.deleteGameTopic(U)}catch(F){return console.error("Error deleting game topic:",F),!1}},claimRekberGroup:async(U,F)=>{if(!r())return!1;try{return await on.claimRekberGroup(U,F)}catch(O){return console.error("Error claiming rekber group:",O),!1}},updateRekberStatus:async(U,F)=>{if(!r())return!1;try{return await on.updateRekberStatus(U,F)}catch(O){return console.error("Error updating rekber status:",O),!1}},getRekberGroups:()=>n.filter(U=>U.type==="rekber"),submitReport:async U=>{if(!t)return!1;try{return(await Qv.submitReport({...U,reporter_id:t.user_id,reporter_username:t.username})).success}catch(F){return console.error("Error submitting report:",F),!1}},canEditMessage:(U,F)=>{if(U.sender_id!==F||U.sender_id==="SYSTEM")return!1;const O=new Date(U.created_at).getTime();return(new Date().getTime()-O)/(1e3*60)<=j},canDeleteMessage:(U,F)=>{if(U.sender_id==="SYSTEM")return!1;if(U.sender_id===F){const O=new Date(U.created_at).getTime();return(new Date().getTime()-O)/(1e3*60)<=v}return r()}};return a.jsx(gm.Provider,{value:G,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>b.createElement("svg",{ref:d,...Xv,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Zv(e)}`,o].join(" "),...u},[...t.map(([h,m])=>b.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=z("TowerControl",[["path",{d:"M18.2 12.27 20 6H4l1.8 6.27a1 1 0 0 0 .95.73h10.5a1 1 0 0 0 .96-.73Z",key:"1pledb"}],["path",{d:"M8 13v9",key:"hmv0ci"}],["path",{d:"M16 22v-9",key:"ylnf1u"}],["path",{d:"m9 6 1 7",key:"dpdgam"}],["path",{d:"m15 6-1 7",key:"ls7zgu"}],["path",{d:"M12 6V2",key:"1pj48d"}],["path",{d:"M13 2h-2",key:"mj6ths"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=z("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=z("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mw=({onConnectionChange:e})=>{const[t,r]=b.useState("connecting"),[n,s]=b.useState(null),[i,l]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{h();const v=setInterval(h,3e4);return()=>clearInterval(v)},[]);const h=async()=>{console.log(" Starting comprehensive connection check..."),r("connecting");try{const v=await fm();console.log(" Database connection result:",v);const f=await Vv();console.log(" Realtime connection result:",f),d(f),v.isConnected?(r("connected"),s(v.latency||null),l(null),e==null||e("connected")):(r("error"),l(v.error||"Database connection failed"),s(null),e==null||e("error"))}catch(v){console.error(" Connection check failed:",v),r("error"),l(v instanceof Error?v.message:"Connection failed"),s(null),e==null||e("error")}},m=()=>{switch(t){case"connected":return a.jsx(kt,{className:"h-4 w-4 text-green-500"});case"connecting":return a.jsx(mr,{className:"h-4 w-4 text-yellow-500 animate-spin"});case"error":return a.jsx(kc,{className:"h-4 w-4 text-red-500"});default:return a.jsx(fw,{className:"h-4 w-4 text-gray-500"})}},y=()=>{switch(t){case"connected":return`Connected${n?` (${n}ms)`:""}`;case"connecting":return"Connecting...";case"error":return"Connection Error";default:return"Disconnected"}},g=()=>{switch(t){case"connected":return"bg-green-50 border-green-200 text-green-800";case"connecting":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},j=mm();return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!o),className:`flex items-center space-x-2 px-3 py-1 rounded-full border text-xs font-medium transition-colors ${g()}`,children:[m(),a.jsx("span",{children:y()})]}),o&&a.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 p-4 z-50",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Connection Status"}),a.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Refresh"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Database:"}),a.jsx("span",{className:t==="connected"?"text-green-600":"text-red-600",children:t==="connected"?"Connected":"Disconnected"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Realtime:"}),a.jsx("span",{className:u?"text-green-600":"text-red-600",children:u?"Active":"Inactive"})]}),n&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Latency:"}),a.jsxs("span",{className:"text-gray-900",children:[n,"ms"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Mode:"}),a.jsx("span",{className:"text-gray-900",children:"Production"})]})]}),i&&a.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-800 text-xs",children:i})}),t==="error"&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 text-xs",children:[a.jsx("strong",{children:"Connection Failed:"})," Please check your Supabase configuration and internet connection."]})}),!j.hasUrl||!j.hasKey?a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 text-xs",children:[a.jsx("strong",{children:"Configuration Error:"})," Missing Supabase credentials in environment variables."]})}):null]})})]})},pw=({children:e})=>{const{user:t,logout:r,isAdmin:n}=Vt(),{getUnreadInvitesCount:s}=Pn(),i=yr(),l=s(),o=c=>i.pathname===c;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(ue,{to:"/",className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center",children:a.jsx(kn,{className:"h-6 w-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"RekberX"})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-8",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs(ue,{to:"/",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${o("/")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[a.jsx(ym,{className:"h-4 w-4"}),a.jsx("span",{children:"Beranda"})]}),a.jsxs(ue,{to:"/chat",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${o("/chat")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[a.jsx(Bt,{className:"h-4 w-4"}),a.jsx("span",{children:"Chat"})]}),a.jsxs(ue,{to:"/inbox",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors relative ${o("/inbox")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[a.jsx(ud,{className:"h-4 w-4"}),a.jsx("span",{children:"Inbox"}),l>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),n()&&a.jsxs(ue,{to:"/admin",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${o("/admin")?"bg-red-100 text-red-700":"text-gray-600 hover:text-red-600 hover:bg-red-50"}`,children:[a.jsx(ie,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin"})]})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(mw,{}),t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(ue,{to:"/profile",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${o("/profile")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[a.jsx(mt,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:t.username})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(iw,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{to:"/login",className:"px-4 py-2 text-blue-600 hover:text-blue-700 font-medium",children:"Login"}),a.jsx(ue,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Daftar"})]})]})]})}),t&&a.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:a.jsxs("div",{className:"flex justify-around py-2",children:[a.jsxs(ue,{to:"/chat",className:`flex flex-col items-center py-2 px-3 ${o("/chat")?"text-blue-600":"text-gray-600"}`,children:[a.jsx(Bt,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs mt-1",children:"Chat"})]}),a.jsxs(ue,{to:"/inbox",className:`flex flex-col items-center py-2 px-3 relative ${o("/inbox")?"text-blue-600":"text-gray-600"}`,children:[a.jsx(ud,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs mt-1",children:"Inbox"}),l>0&&a.jsx("span",{className:"absolute -top-1 right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:l})]}),a.jsxs(ue,{to:"/profile",className:`flex flex-col items-center py-2 px-3 ${o("/profile")?"text-blue-600":"text-gray-600"}`,children:[a.jsx(mt,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs mt-1",children:"Profil"})]}),n()&&a.jsxs(ue,{to:"/admin",className:`flex flex-col items-center py-2 px-3 ${o("/admin")?"text-red-600":"text-gray-600"}`,children:[a.jsx(ie,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs mt-1",children:"Admin"})]})]})})]}),a.jsx("main",{children:e})]})},gw=()=>{const{user:e}=Vt(),{gameTopics:t}=Pn();return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(kn,{className:"h-20 w-20 mx-auto mb-6 text-blue-200"}),a.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"RekberX"}),a.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Platform Transaksi Gaming Terpercaya dengan Sistem Rekber Aman"})]}),e?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ue,{to:"/chat",className:"group px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:bg-blue-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[a.jsx(Bt,{className:"h-5 w-5"}),a.jsx("span",{children:"Mulai JB"}),a.jsx(dl,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),a.jsx(ue,{to:"/profile",className:"px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-blue-600 transition-all duration-300",children:"Profil Saya"})]}):a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ue,{to:"/register",className:"group px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:bg-blue-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Daftar Gratis"}),a.jsx(dl,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),a.jsx(ue,{to:"/login",className:"px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-blue-600 transition-all duration-300",children:"Login"})]})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Cara Kerja RekberX"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Sistem yang mudah dan aman untuk transaksi gaming"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(Bt,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Chat di Grup Game"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Masuk ke chat publik game yang ingin dijual atau dibeli"})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(ht,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Klik ID User"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Klik ID user untuk mengundang ke grup Rekber"})]}),a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(ie,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Transaksi Aman"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Admin membantu memastikan transaksi berjalan aman"})]})]})]})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Game Yang Tersedia"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Pilih game favorit Anda untuk mulai trading"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 text-center group border border-gray-100",children:[a.jsxs("div",{className:`w-16 h-16 bg-gradient-to-br ${n%4===0?"from-orange-400 to-red-500":n%4===1?"from-yellow-400 to-orange-500":n%4===2?"from-blue-400 to-purple-500":"from-green-400 to-blue-500"} rounded-xl mx-auto mb-4 flex items-center justify-center group-hover:scale-110 transition-transform overflow-hidden`,children:[r.iconUrl?a.jsx("img",{src:r.iconUrl,alt:r.name,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.style.display="none",s.currentTarget.nextElementSibling.style.display="block"}}):null,a.jsx("span",{className:"text-white font-bold text-xl",style:{display:r.iconUrl?"none":"block"},children:r.icon})]}),a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:r.name}),a.jsx("p",{className:"text-gray-600",children:r.description})]},r.id))}),t.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading games..."})]})]})}),!e&&a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Mulai Trading Sekarang"}),a.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Platform demo - semua fitur berfungsi dengan localStorage"}),a.jsxs(ue,{to:"/register",className:"group inline-flex items-center space-x-2 px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:bg-blue-50 transition-all duration-300",children:[a.jsx("span",{children:"Daftar Gratis"}),a.jsx(dl,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})})]})},zr=()=>{const[e,t]=b.useState([]),r=b.useCallback(c=>{const u=Math.random().toString(36).substr(2,9),d={id:u,...c,onClose:()=>{}};return t(h=>[...h,d]),u},[]),n=b.useCallback(c=>{t(u=>u.filter(d=>d.id!==c))},[]),s=b.useCallback((c,u,d)=>r({type:"success",title:c,message:u,duration:d}),[r]),i=b.useCallback((c,u,d)=>r({type:"error",title:c,message:u,duration:d}),[r]),l=b.useCallback((c,u,d)=>r({type:"warning",title:c,message:u,duration:d}),[r]),o=b.useCallback((c,u,d)=>r({type:"info",title:c,message:u,duration:d}),[r]);return{toasts:e,addToast:r,removeToast:n,success:s,error:i,warning:l,info:o}},xw=()=>{const[e,t]=b.useState({username:"",password:""}),[r,n]=b.useState(""),[s,i]=b.useState(!1),[l,o]=b.useState(!1),{login:c}=Vt(),u=hc(),d=zr(),h=y=>{const{name:g,value:j}=y.target;t(v=>({...v,[g]:j}))},m=async y=>{y.preventDefault(),n(""),i(!0);try{await c(e.username,e.password)?(d.success("Login Berhasil!","Selamat datang kembali di RekberX."),u("/")):(n("Username atau password salah"),d.error("Login Gagal","Username atau password yang Anda masukkan salah."))}catch{n("Terjadi kesalahan"),d.error("Terjadi Kesalahan","Silakan coba lagi beberapa saat.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:a.jsx(kn,{className:"h-10 w-10 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Masuk ke RekberX"}),a.jsxs("p",{className:"text-gray-600",children:["Belum punya akun?"," ",a.jsx(ue,{to:"/register",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Daftar di sini"})]})]}),a.jsx("div",{className:"bg-white py-8 px-8 shadow-xl rounded-2xl border border-gray-100",children:a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(mt,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{name:"username",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Masukkan username",value:e.username,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(vm,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{name:"password",type:l?"text":"password",required:!0,className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Masukkan password",value:e.password,onChange:h}),a.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:l?a.jsx(_c,{className:"h-5 w-5"}):a.jsx(Sc,{className:"h-5 w-5"})})]})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:r})}),a.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all duration-300 shadow-lg",children:s?"Memproses...":"Masuk"})]})})]})})},yw=()=>{const[e,t]=b.useState({username:"",password:""}),[r,n]=b.useState(""),[s,i]=b.useState(!1),[l,o]=b.useState(!1),{register:c}=Vt(),u=hc(),d=zr(),h=y=>{const{name:g,value:j}=y.target;t(v=>({...v,[g]:j}))},m=async y=>{if(y.preventDefault(),n(""),i(!0),e.password.length<3){n("Password minimal 3 karakter"),i(!1);return}try{await c(e.username,e.password)?(d.success("Pendaftaran Berhasil!","Akun Anda telah dibuat. Silakan login untuk melanjutkan.",5e3),u("/login")):(n("Username sudah digunakan"),d.error("Pendaftaran Gagal","Username sudah digunakan oleh user lain."))}catch{n("Terjadi kesalahan"),d.error("Terjadi Kesalahan","Silakan coba lagi beberapa saat.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:a.jsx(kn,{className:"h-10 w-10 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Daftar ke RekberX"}),a.jsxs("p",{className:"text-gray-600",children:["Sudah punya akun?"," ",a.jsx(ue,{to:"/login",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Masuk di sini"})]})]}),a.jsx("div",{className:"bg-white py-8 px-8 shadow-xl rounded-2xl border border-gray-100",children:a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(mt,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{name:"username",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Pilih username",value:e.username,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(vm,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{name:"password",type:l?"text":"password",required:!0,className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Buat password",value:e.password,onChange:h}),a.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:l?a.jsx(_c,{className:"h-5 w-5"}):a.jsx(Sc,{className:"h-5 w-5"})})]})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:r})}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(kn,{className:"h-5 w-5 text-green-600"}),a.jsx("p",{className:"text-sm text-green-700 font-semibold",children:"Mulai Trading Sekarang"})]}),a.jsx("p",{className:"text-xs text-green-600 leading-relaxed",children:"Daftar gratis dan mulai jual beli item game favorit Anda dengan sistem keamanan terpercaya."})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-all duration-300 shadow-lg",children:s?"Memproses...":"Daftar Sekarang"})]})})]})})},vw=()=>{const{user:e}=Vt(),t=zr(),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[l,o]=b.useState((e==null?void 0:e.username)||""),c=()=>{t.success("Profil Diperbarui!","Perubahan profil Anda telah disimpan."),n(!1)},u=()=>{t.success("Password Diubah!","Password Anda telah berhasil diperbarui."),i(!1)};return e?a.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[a.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profil Saya"}),r?a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors",children:[a.jsx(ow,{className:"h-4 w-4"}),a.jsx("span",{children:"Simpan"})]}),a.jsxs("button",{onClick:()=>n(!1),className:"flex items-center space-x-2 px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors",children:[a.jsx(pt,{className:"h-4 w-4"}),a.jsx("span",{children:"Batal"})]})]}):a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[a.jsx(ji,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit Profil"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(mt,{className:"h-12 w-12 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.username}),a.jsxs("p",{className:"text-gray-600 text-lg",children:["ID: ",e.userId]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(ie,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-blue-600 font-medium capitalize",children:e.role}),e.customRole&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:e.customRoleColor},children:[" ",e.customRole]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Username"}),r?a.jsx("input",{type:"text",value:l,onChange:d=>o(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-xl",children:a.jsx("p",{className:"text-gray-900 font-medium",children:e.username})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"User ID"}),a.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-xl",children:a.jsx("p",{className:"text-gray-900 font-medium",children:e.userId})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Role"}),a.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-xl",children:a.jsx("p",{className:"text-gray-900 font-medium capitalize",children:e.role})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),a.jsx("button",{onClick:()=>i(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors font-medium",children:"Ganti Password"})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-2xl p-8 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ie,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Keamanan Transaksi"})]}),a.jsx("p",{className:"text-blue-800 leading-relaxed",children:"RekberX menggunakan sistem Rekber (Rekening Bersama) yang dikelola oleh admin terpercaya. Semua transaksi dijamin aman dan kedua belah pihak akan terlindungi dari penipuan."})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Ganti Password"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password Lama"}),a.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password Baru"}),a.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex space-x-4 mt-8",children:[a.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Batal"}),a.jsx("button",{onClick:u,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Simpan"})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Silakan login terlebih dahulu"})]})})},ww=({currentRoom:e,onBackClick:t})=>a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-3 py-2.5 flex items-center space-x-3 shadow-lg flex-shrink-0",children:[a.jsx("button",{onClick:t,className:"p-1.5 hover:bg-blue-700 rounded-full transition-colors",children:a.jsx(Nc,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-xs",children:e!=null&&e.name?e.name.charAt(0):"?"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-base",children:(e==null?void 0:e.type)==="public"?`JB ${(e==null?void 0:e.name)||"Unknown"}`:(e==null?void 0:e.type)==="private"?` ${(e==null?void 0:e.name)||"Unknown"}`:(e==null?void 0:e.name)||"Unknown"}),a.jsxs("p",{className:"text-blue-100 text-xs flex items-center",children:[(e==null?void 0:e.type)==="public"?"Chat Jual Beli":(e==null?void 0:e.type)==="private"?"Chat Pribadi":"Grup Rekber",a.jsx("span",{className:"mx-1",children:""}),a.jsx("span",{className:"text-green-200",children:"Online"})]})]})]}),Or=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="OK",cancelText:l="Cancel",type:o="warning",isLoading:c=!1})=>{const u=b.useRef(null),d=b.useRef(null),h=b.useRef(null);b.useEffect(()=>{const v=f=>{f.key==="Escape"&&e&&!c&&t()};return e&&(document.addEventListener("keydown",v),setTimeout(()=>{var f;(f=d.current)==null||f.focus()},100)),()=>{document.removeEventListener("keydown",v)}},[e,t,c]);const m=v=>{v.target===v.currentTarget&&!c&&t()},y=v=>{if(v.key==="Tab"){const f=[h.current,d.current].filter(Boolean),p=f[0],x=f[f.length-1];v.shiftKey?document.activeElement===p&&(v.preventDefault(),x==null||x.focus()):document.activeElement===x&&(v.preventDefault(),p==null||p.focus())}},j=(()=>{switch(o){case"danger":return{iconBg:"bg-red-100",iconColor:"text-red-600",confirmBg:"bg-red-600 hover:bg-red-700 focus:ring-red-500",titleColor:"text-red-900"};case"warning":return{iconBg:"bg-yellow-100",iconColor:"text-yellow-600",confirmBg:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",titleColor:"text-yellow-900"};case"info":return{iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBg:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",titleColor:"text-blue-900"};default:return{iconBg:"bg-yellow-100",iconColor:"text-yellow-600",confirmBg:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",titleColor:"text-yellow-900"}}})();return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title","aria-describedby":"confirm-modal-message",children:a.jsxs("div",{ref:u,className:"bg-white rounded-2xl shadow-2xl max-w-md w-full transform animate-slideIn",onKeyDown:y,children:[a.jsx("div",{className:"p-6 pb-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-12 h-12 ${j.iconBg} rounded-full flex items-center justify-center flex-shrink-0`,children:a.jsx(dt,{className:`h-6 w-6 ${j.iconColor}`})}),a.jsx("div",{className:"flex-1",children:a.jsx("h3",{id:"confirm-modal-title",className:`text-xl font-bold ${j.titleColor}`,children:n})}),!c&&a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close modal",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]})}),a.jsxs("div",{className:"px-6 pb-6",children:[a.jsx("p",{id:"confirm-modal-message",className:"text-gray-700 leading-relaxed mb-6",children:s}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{ref:h,onClick:t,disabled:c,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l}),a.jsxs("button",{ref:d,onClick:r,disabled:c,className:`flex-1 px-6 py-3 ${j.confirmBg} text-white font-semibold rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg`,children:[console.log(" CONFIRM BUTTON RENDER - onClick:",typeof r),c?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Processing..."})]}):i]})]})]})]})}):null},bw=({filteredRooms:e,activeTab:t,setActiveTab:r,onRoomSelect:n,onDeleteRoom:s})=>{const{gameTopics:i,user:l}=Pn(),[o,c]=Pc.useState(null),[u,d]=Pc.useState(null),h=v=>i.find(f=>f.name===v),m=v=>t==="jb"?!1:t==="private"?!0:t==="rekber"?v.status!=="active"&&v.status!=="pending":!1,y=(v,f)=>{if(console.log(" TRASH BUTTON CLICKED for room:",f.id,f.name),v.stopPropagation(),t==="rekber"&&(f.status==="active"||!f.status)){console.log(" Cannot delete active Rekber room"),d("Grup Rekber yang sedang aktif tidak dapat dihapus. Tunggu hingga transaksi selesai atau dibatalkan.");return}console.log(" Setting showDeleteConfirm to:",f.id),c(f.id)},g=()=>{console.log(" CONFIRM DELETE BUTTON CLICKED"),console.log(" showDeleteConfirm:",o),console.log(" onDeleteRoom function exists:",typeof s),o&&s?(console.log(" Calling onDeleteRoom with:",o),s(o),c(null),console.log(" Modal closed, showDeleteConfirm set to null")):console.error(" Cannot delete - missing data:",{showDeleteConfirm:o,onDeleteRoom:typeof s})},j=()=>{if(!o)return"";const v=e.find(f=>f.id===o);return v?t==="private"?`Chat pribadi dengan "${v.name}" akan dihapus permanen. Semua riwayat pesan akan hilang dan tidak dapat dikembalikan.`:t==="rekber"?`Grup Rekber "${v.name}" akan dihapus permanen. Pastikan transaksi sudah selesai sebelum menghapus grup ini.`:"Room ini akan dihapus permanen.":""};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen bg-gray-100",children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white min-h-screen",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 shadow-lg",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Pilih Game"}),a.jsx("p",{className:"text-blue-100 mt-1",children:"Pilih game untuk mulai chat"})]}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"flex",children:[a.jsx("button",{onClick:()=>r("jb"),className:`flex-1 py-4 px-6 text-center font-semibold transition-colors ${t==="jb"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:"Chat JB"}),a.jsx("button",{onClick:()=>r("rekber"),className:`flex-1 py-4 px-6 text-center font-semibold transition-colors ${t==="rekber"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:"Chat Rekber"}),a.jsx("button",{onClick:()=>r("private"),className:`flex-1 py-4 px-6 text-center font-semibold transition-colors ${t==="private"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50"}`,children:"Chat Pribadi"})]})}),a.jsx("div",{className:"p-4",children:e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Bt,{className:"h-8 w-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500 text-lg",children:t==="jb"?"Pilih game untuk mulai JB":t==="rekber"?"Belum ada grup Rekber":"Belum ada chat pribadi"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:t==="jb"?"Chat JB tersedia untuk semua game":t==="rekber"?"Grup Rekber akan dibuat otomatis saat ada undangan":"Klik username di chat untuk memulai chat pribadi"})]}):a.jsx("div",{className:"grid gap-4",children:e.map(v=>a.jsx("button",{onClick:()=>n(v.id),className:"bg-white border border-gray-200 rounded-xl p-6 text-left hover:shadow-lg hover:border-blue-300 transition-all duration-200 group relative",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg overflow-hidden",children:[(()=>{const f=h(v.game||v.name);return f!=null&&f.iconUrl?a.jsx("img",{src:f.iconUrl,alt:v.name,className:"w-full h-full object-cover",onError:p=>{p.currentTarget.style.display="none",p.currentTarget.nextElementSibling.style.display="block"}}):null})(),a.jsx("span",{className:"text-white font-bold text-xl",style:{display:(()=>{const f=h(v.game||v.name);return f!=null&&f.iconUrl?"none":"block"})()},children:(()=>{const f=h(v.game||v.name);return(f==null?void 0:f.icon)||(v.name?v.name.charAt(0):"?")})()})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900 group-hover:text-blue-600 transition-colors",children:t==="jb"?`JB ${v.name}`:t==="private"?` ${v.name}`:v.name}),a.jsx("p",{className:"text-gray-500 mt-1",children:v.messages&&v.messages.length>0?`${v.messages[v.messages.length-1].sender}: ${v.messages[v.messages.length-1].content.substring(0,40)}...`:"Belum ada pesan"}),a.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-400",children:[a.jsx(ht,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[v.messages?v.messages.length:0," pesan"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[(t==="rekber"||t==="private")&&m(v)&&a.jsx("button",{onClick:f=>y(f,v),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Hapus Chat",children:a.jsx(_s,{className:"h-4 w-4"})}),a.jsx("div",{className:"text-blue-600",children:a.jsx(Nc,{className:"h-6 w-6 rotate-180"})})]})]})},v.id))})})]})}),a.jsx(Or,{isOpen:o!==null,onClose:()=>c(null),onConfirm:g,title:t==="private"?"Hapus Chat Pribadi":"Hapus Grup Rekber",message:j(),confirmText:"Hapus",cancelText:"Batal",type:"danger"}),a.jsx(Or,{isOpen:u!==null,onClose:()=>d(null),onConfirm:()=>d(null),title:"Tidak Dapat Menghapus",message:u||"",confirmText:"Mengerti",cancelText:"",type:"warning"})]})},jw=({isOnline:e,size:t="sm"})=>{const r={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return a.jsx("div",{className:`${r[t]} rounded-full ${e?"bg-green-500":"bg-gray-400"} border-2 border-white shadow-sm`})},kw=({messages:e,currentUser:t,editingMessageId:r,editingContent:n,setEditingContent:s,editInputRef:i,canEditMessage:l,canDeleteMessage:o,onUserClick:c,onStartEdit:u,onCancelEdit:d,onSaveEdit:h,onDeleteMessage:m,getTimeRemaining:y,messagesEndRef:g,showDeleteConfirm:j,setShowDeleteConfirm:v,isDeleting:f,onlineUsers:p})=>{const x=k=>{v(k)},w=()=>{j&&(m(j),v(null))},_=()=>{if(!j)return"";const k=e.find(E=>E.id===j);return k?k.senderId===(t==null?void 0:t.userId)?"Pesan ini akan dihapus secara permanen dan tidak dapat dikembalikan.":`Pesan dari ${k.sender} akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan.`:""};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-3 py-2",children:[e&&e.length>0?e.map(k=>a.jsx("div",{className:"group mb-1",children:k.sender===t.username?a.jsx("div",{className:"flex justify-end mb-2 group",children:a.jsx("div",{className:"flex flex-col items-end max-w-xs lg:max-w-md",children:a.jsxs("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-2xl rounded-br-md shadow-sm relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-blue-100 text-xs font-medium",children:"You"}),t&&(l(k,t.userId)||o(k,t.userId))&&r!==k.id&&a.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l(k,t.userId)&&a.jsx("button",{onClick:()=>u(k.id,k.content),className:"p-1 text-blue-200 hover:text-white hover:bg-blue-500/30 rounded transition-colors",title:`Edit (${y(k.timestamp,15)} left)`,children:a.jsx(ji,{className:"h-3 w-3"})}),o(k,t.userId)&&a.jsx("button",{onClick:()=>x(k.id),className:"p-1 text-blue-200 hover:text-red-200 hover:bg-red-500/30 rounded transition-colors",title:k.senderId===t.userId?`Delete (${y(k.timestamp,30)} left)`:"Delete message (Admin)",children:a.jsx(_s,{className:"h-3 w-3"})})]})]}),k.messageType==="image"&&k.imageUrl&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:k.imageUrl,alt:"Shared image",className:"max-w-full h-auto rounded-lg",style:{maxHeight:"150px"}})}),r===k.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{ref:i,value:n,onChange:S=>s(S.target.value),className:"w-full p-2 text-gray-900 rounded-lg resize-none border-2 border-blue-300 focus:border-blue-500 focus:outline-none text-sm",rows:2,placeholder:"Edit your message...",onKeyDown:S=>{S.key==="Enter"&&!S.shiftKey?(S.preventDefault(),h(k.id)):S.key==="Escape"&&d()}}),a.jsxs("div",{className:"flex justify-end space-x-1",children:[a.jsx("button",{onClick:d,className:"p-1 text-white hover:text-red-200 hover:bg-red-500/20 rounded transition-colors",title:"Cancel (Esc)",children:a.jsx(pt,{className:"h-3 w-3"})}),a.jsx("button",{onClick:()=>h(k.id),disabled:!n.trim(),className:"p-1 text-white hover:text-green-200 hover:bg-green-500/20 rounded transition-colors disabled:opacity-50",title:"Save (Enter)",children:a.jsx(xm,{className:"h-3 w-3"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"leading-relaxed text-sm",children:k.content}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("div",{children:k.isEdited&&a.jsx("span",{className:"text-xs text-blue-200 italic",children:"edited"})}),a.jsx("span",{className:"text-xs text-blue-200",children:new Date(k.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})]})})}):a.jsxs("div",{className:"flex items-start space-x-2 mb-2 group",children:[a.jsxs("div",{className:"w-7 h-7 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:[a.jsx("span",{className:"text-white font-bold text-xs",children:k.sender.charAt(0).toUpperCase()}),a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:a.jsx(jw,{isOnline:p.includes(k.senderId),size:"sm"})})]}),a.jsxs("div",{className:"bg-white text-gray-900 px-3 py-2 rounded-2xl rounded-bl-md max-w-xs lg:max-w-md shadow-sm border border-gray-100 flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1 pb-1 border-b border-gray-100",children:[a.jsx("button",{onClick:()=>c(k.senderId,k.sender),className:"font-bold text-gray-900 hover:text-blue-600 transition-colors text-sm",children:k.sender}),k.senderId!=="SYSTEM"&&a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded",children:k.senderId}),k.senderId!=="SYSTEM"&&a.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded ${k.senderId==="971968"?"bg-yellow-100 text-yellow-800":k.senderId.startsWith("200")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:k.senderId==="971968"?"":k.senderId.startsWith("200")?"":""}),(()=>{const E=JSON.parse(localStorage.getItem("rekberx_users")||"[]").find(P=>P.userId===k.senderId);return E!=null&&E.customRole?a.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded text-white",style:{backgroundColor:E.customRoleColor},children:E.customRoleEmoji||""}):null})(),k.senderId==="SYSTEM"&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded",children:""})]}),k.messageType==="image"&&k.imageUrl&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:k.imageUrl,alt:"Shared image",className:"max-w-full h-auto rounded-lg",style:{maxHeight:"150px"}})}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:k.content}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("div",{children:k.isEdited&&a.jsx("span",{className:"text-xs text-gray-400 italic",children:"edited"})}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(k.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]}),t&&o(k,t.userId)&&r!==k.id&&a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:a.jsx("button",{onClick:()=>x(k.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded transition-colors",title:"Delete message (Admin)",children:a.jsx(_s,{className:"h-3 w-3"})})})]})},k.id)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Belum ada pesan"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Mulai percakapan dengan mengirim pesan"})]}),a.jsx("div",{ref:g})]})}),a.jsx(Or,{isOpen:j!==null,onClose:()=>v(null),onConfirm:w,title:"Hapus Pesan",message:_(),confirmText:"Hapus",cancelText:"Batal",type:"danger",isLoading:f})]})},hd=({onImageSelect:e,onImageRemove:t,selectedImage:r,disabled:n=!1})=>{const s=b.useRef(null),[i,l]=b.useState(!1),o=h=>{h.type.startsWith("image/")?e(h):alert("Please select an image file")},c=h=>{h.preventDefault(),l(!1);const m=Array.from(h.dataTransfer.files);m.length>0&&o(m[0])},u=h=>{h.preventDefault(),l(!0)},d=()=>{l(!1)};return r?a.jsx("div",{className:"relative inline-block",children:a.jsxs("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border-2 border-gray-200",children:[a.jsx("img",{src:URL.createObjectURL(r),alt:"Selected",className:"w-full h-full object-cover"}),a.jsx("button",{onClick:t,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:a.jsx(pt,{className:"h-3 w-3"})})]})}):a.jsxs(a.Fragment,{children:[a.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:h=>{var y;const m=(y=h.target.files)==null?void 0:y[0];m&&o(m)},className:"hidden"}),a.jsx("button",{type:"button",onClick:()=>{var h;return(h=s.current)==null?void 0:h.click()},disabled:n,onDrop:c,onDragOver:u,onDragLeave:d,className:`w-10 h-10 rounded-lg border-2 border-dashed flex items-center justify-center transition-all ${i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:a.jsx(sw,{className:"h-5 w-5 text-gray-400"})})]})},Nw=({message:e,setMessage:t,selectedImage:r,setSelectedImage:n,isUploading:s,onSubmit:i,onTyping:l})=>{const[o,c]=b.useState(!1),[u,d]=b.useState(null),h=y=>{const g=y.target.value;if(t(g),l){g.trim()&&!o&&(c(!0),l(!0)),u&&clearTimeout(u);const j=setTimeout(()=>{c(!1),l(!1)},2e3);d(j)}},m=y=>{y.preventDefault(),o&&l&&(c(!1),l(!1)),u&&(clearTimeout(u),d(null)),i(y)};return b.useEffect(()=>()=>{u&&clearTimeout(u),o&&l&&l(!1)},[]),a.jsx("div",{className:"bg-white border-t border-gray-200 p-3 flex-shrink-0",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[r&&a.jsx("div",{className:"mb-2",children:a.jsx(hd,{onImageSelect:n,onImageRemove:()=>n(null),selectedImage:r})}),a.jsxs("form",{onSubmit:m,className:"flex items-end space-x-2",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(hd,{onImageSelect:n,onImageRemove:()=>n(null),selectedImage:null,disabled:s})}),a.jsx("div",{className:"flex-1 relative",children:a.jsx("textarea",{value:e,onChange:h,placeholder:"Ketik pesan...",rows:1,className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",onKeyPress:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m(y))},disabled:s})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("button",{type:"submit",disabled:!e.trim()&&!r||s,className:"w-10 h-10 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 shadow-lg",children:s?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(cw,{className:"h-4 w-4"})})})]})]})})},_w=({isOpen:e,onClose:t,selectedUser:r,currentUser:n,isAdmin:s,onInviteRekber:i,onPrivateChat:l,onReport:o,onMute:c,onBan:u})=>{const[d,h]=b.useState(!1),[m,y]=b.useState(!1),[g,j]=b.useState(!1),[v,f]=b.useState(!1),[p,x]=b.useState(!1),[w,_]=b.useState({reason:"spam",description:""}),[k,S]=b.useState(300),E=[{value:"scam",label:"Penipuan/Scam"},{value:"spam",label:"Spam"},{value:"harassment",label:"Pelecehan/Harassment"},{value:"inappropriate",label:"Konten Tidak Pantas"},{value:"other",label:"Lainnya"}],P=()=>{if(!w.description.trim()){alert("Mohon berikan deskripsi laporan");return}o(w.reason,w.description),h(!1),_({reason:"spam",description:""}),t()},R=()=>{j(!0)},L=()=>{f(!0)},G=()=>{if(k<1){alert("Durasi mute minimal 1 detik");return}x(!0),c(k),j(!1),y(!1),x(!1),t()},U=()=>{x(!0),u(),f(!1),y(!1),x(!1),t()},F=O=>O<60?`${O} detik`:O<3600?`${Math.floor(O/60)} menit`:O<86400?`${Math.floor(O/3600)} jam`:`${Math.floor(O/86400)} hari`;return!e||!r?null:d?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Laporkan User"}),a.jsx("p",{className:"text-gray-600",children:r.username})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Alasan Laporan"}),a.jsx("select",{value:w.reason,onChange:O=>_({...w,reason:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",children:E.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deskripsi Detail"}),a.jsx("textarea",{value:w.description,onChange:O=>_({...w,description:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:4,placeholder:"Jelaskan detail masalah yang terjadi...",required:!0})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Batal"}),a.jsx("button",{onClick:P,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Kirim Laporan"})]})]})}):m?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Admin Actions"}),a.jsx("p",{className:"text-gray-600",children:r.username})]})]}),a.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(hw,{className:"h-5 w-5 text-orange-600"}),a.jsx("h4",{className:"font-semibold text-gray-900",children:"Mute User"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durasi (detik)"}),a.jsx("input",{type:"number",value:k,onChange:O=>S(parseInt(O.target.value)||300),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",min:"1"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Durasi: ",F(k)]})]}),a.jsx("button",{onClick:R,className:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Mute User"})]})]}),a.jsxs("div",{className:"border border-red-200 rounded-xl p-4 bg-red-50",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(tw,{className:"h-5 w-5 text-red-600"}),a.jsx("h4",{className:"font-semibold text-red-900",children:"Ban User (Permanent)"})]}),a.jsx("p",{className:"text-sm text-red-700 mb-3",children:"User akan di-ban permanent dan tidak bisa mengakses chat."}),a.jsx("button",{onClick:L,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Ban Permanent"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>y(!1),className:"w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Tutup"})})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(mt,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.username}),a.jsx("p",{className:"text-gray-600",children:"Pilih aksi yang ingin dilakukan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:i,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx(ie,{className:"h-5 w-5"}),a.jsx("span",{children:"Invite Rekber"})]}),a.jsxs("button",{onClick:l,className:"w-full py-3 px-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx(Bt,{className:"h-5 w-5"}),a.jsx("span",{children:"Chat Pribadi"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx(dt,{className:"h-5 w-5"}),a.jsx("span",{children:"Report"})]}),s&&a.jsxs("button",{onClick:()=>y(!0),className:"w-full py-3 px-4 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx(ie,{className:"h-5 w-5"}),a.jsx("span",{children:"Admin Actions"})]}),a.jsx("button",{onClick:t,className:"w-full py-3 px-4 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-medium",children:"Tutup"})]})]})}),a.jsx(Or,{isOpen:g,onClose:()=>j(!1),onConfirm:G,title:"Mute User",message:`Yakin ingin mute user "${r==null?void 0:r.username}" selama ${F(k)}? User tidak akan bisa mengirim pesan selama periode ini.`,confirmText:"Mute User",cancelText:"Batal",type:"warning",isLoading:p}),a.jsx(Or,{isOpen:v,onClose:()=>f(!1),onConfirm:U,title:"Ban User Permanent",message:`Yakin ingin ban permanent user "${r==null?void 0:r.username}"? User akan diblokir secara permanen dan tidak bisa mengakses chat. Tindakan ini tidak dapat dibatalkan.`,confirmText:"Ban Permanent",cancelText:"Batal",type:"danger",isLoading:p})]})},Sw=({typingUsers:e,currentUser:t})=>{const r=e.filter(s=>s!==t);if(r.length===0)return null;const n=()=>r.length===1?`${r[0]} sedang mengetik...`:r.length===2?`${r[0]} dan ${r[1]} sedang mengetik...`:`${r[0]} dan ${r.length-1} lainnya sedang mengetik...`;return a.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 italic flex items-center space-x-2",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),a.jsx("span",{children:n()})]})},Ew=()=>{const{user:e,isAdmin:t}=Vt(),{rooms:r,activeRoom:n,setActiveRoom:s,sendMessage:i,editMessage:l,deleteMessage:o,canEditMessage:c,canDeleteMessage:u,sendRekberInvite:d,createPrivateChat:h,uploadImage:m,gameTopics:y,deleteRoom:g,onlineUsers:j,typingUsers:v,sendTypingIndicator:f}=Pn(),[p,x]=b.useState(""),[w,_]=b.useState(null),[k,S]=b.useState(!1),[E,P]=b.useState(null),[R,L]=b.useState("jb"),[G,U]=b.useState(!1),[F,O]=b.useState(null),[Q,he]=b.useState(""),[N,C]=b.useState(null),[I,D]=b.useState(!1),K=b.useRef(null),Z=b.useRef(null),[we,St]=b.useState([]),be=zr(),je=r.find(W=>W.id===n);b.useEffect(()=>{n&&v[n]?St(v[n]):St([])},[n,v]);const ki=r.filter(W=>{var ne;return R==="jb"?W.type==="public":R==="private"?W.type==="private"&&((ne=W.participants)==null?void 0:ne.includes((e==null?void 0:e.userId)||"")):W.type==="rekber"});b.useEffect(()=>{Ni()},[je==null?void 0:je.messages]);const Ni=()=>{var W;(W=K.current)==null||W.scrollIntoView({behavior:"smooth"})},_i=async W=>{if(W.preventDefault(),!(!p.trim()&&!w||!n)&&!G){U(!0);try{if(w){const ne=await m(w);ne&&(i(n,p.trim()||"Gambar","image",ne),_(null),x(""))}else i(n,p),x("")}catch(ne){console.error("Error sending message:",ne),alert("Gagal mengirim pesan")}finally{U(!1)}}},Si=async W=>{if(!Q.trim())return;U(!0),await l(W,Q)?(O(null),he("")):alert("Gagal mengedit pesan"),U(!1)},Ei=async W=>{D(!0),await o(W)||alert("Gagal menghapus pesan"),D(!1)},Ls=(W,ne)=>{O(W),he(ne),setTimeout(()=>{var Je;(Je=Z.current)==null||Je.focus()},100)},Ms=()=>{O(null),he("")},Ci=(W,ne)=>{const Je=new Date(W).getTime(),km=new Date().getTime(),Nm=ne*60*1e3-(km-Je),Ec=Math.ceil(Nm/(1e3*60));return Ec>0?`${Ec}m`:"0m"},zs=(W,ne)=>{W!==(e==null?void 0:e.userId)&&W!=="SYSTEM"&&e&&(P({id:W,username:ne}),S(!0))},V=()=>{E&&je&&(d(E.id,E.username,je.game||je.name),S(!1),P(null),be.success("Undangan Rekber Dikirim!",`Undangan telah dikirim ke ${E.username}. Tunggu konfirmasi dari user tersebut.`))},re=()=>{if(E){const W=h(E.id,E.username);s(W),L("private"),S(!1),P(null)}},Et=(W,ne)=>{E&&(console.log("Report submitted:",{reportedUserId:E.id,reportedUsername:E.username,reason:W,description:ne,reporterId:e==null?void 0:e.userId,reporterUsername:e==null?void 0:e.username}),be.success("Laporan Dikirim!",`Laporan terhadap ${E.username} telah dikirim ke admin untuk ditinjau.`))},In=W=>{if(E){console.log("Mute user:",{userId:E.id,username:E.username,duration:W,adminId:e==null?void 0:e.userId});const ne=Je=>Je<60?`${Je} detik`:Je<3600?`${Math.floor(Je/60)} menit`:Je<86400?`${Math.floor(Je/3600)} jam`:`${Math.floor(Je/86400)} hari`;be.warning("User Di-Mute!",`${E.username} telah di-mute selama ${ne(W)}.`)}},Ti=()=>{E&&(console.log("Ban user:",{userId:E.id,username:E.username,adminId:e==null?void 0:e.userId}),be.error("User Di-Ban!",`${E.username} telah di-ban permanent dan tidak bisa mengakses chat.`))},jm=async W=>{console.log(" handleDeleteRoom called with:",W);try{const ne=await g(W);console.log("Delete result:",ne),ne?be.success("Chat Dihapus!","Chat berhasil dihapus dari daftar."):be.error("Gagal Menghapus!","Terjadi kesalahan saat menghapus chat.")}catch(ne){console.error("Error deleting room:",ne),be.error("Gagal Menghapus!","Terjadi kesalahan saat menghapus chat.")}};return e?n?a.jsxs("div",{className:"fixed inset-0 bg-gray-100 flex flex-col overflow-hidden",children:[a.jsx(ww,{currentRoom:je,onBackClick:()=>s(null)}),a.jsx(kw,{messages:(je==null?void 0:je.messages)||[],currentUser:e,editingMessageId:F,editingContent:Q,setEditingContent:he,editInputRef:Z,canEditMessage:c,canDeleteMessage:u,onUserClick:zs,onStartEdit:Ls,onCancelEdit:Ms,onSaveEdit:Si,onDeleteMessage:Ei,getTimeRemaining:Ci,messagesEndRef:K,showDeleteConfirm:N,setShowDeleteConfirm:C,isDeleting:I,onlineUsers:j}),a.jsx(Sw,{typingUsers:we,currentUser:e==null?void 0:e.username}),a.jsx(Nw,{message:p,setMessage:x,selectedImage:w,setSelectedImage:_,isUploading:G,onSubmit:_i,onTyping:W=>{n&&f(n,W)}}),a.jsx(_w,{isOpen:k,onClose:()=>S(!1),selectedUser:E,currentUser:e,isAdmin:t(),onInviteRekber:V,onPrivateChat:re,onReport:Et,onMute:In,onBan:Ti})]}):a.jsx(bw,{filteredRooms:ki,activeTab:R,setActiveTab:L,onRoomSelect:s,onDeleteRoom:jm}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Bt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Login Required"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Silakan login untuk mengakses chat"}),a.jsx("a",{href:"/login",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Login Sekarang"})]})})},Cw=()=>{const{user:e}=Vt(),{invites:t,acceptRekberInvite:r,rejectRekberInvite:n}=Pn(),s=zr();if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ht,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Silakan login untuk melihat inbox"})]})});const i=t.filter(d=>d.toUserId===e.userId),l=i.filter(d=>d.status==="pending"),o=i.filter(d=>d.status!=="pending"),c=(d,h)=>{r(d),s.success("Undangan Rekber Diterima!",`Grup Rekber dengan ${h} telah dibuat. Silakan cek di tab Chat Rekber.`)},u=(d,h)=>{n(d),s.info("Undangan Rekber Ditolak",`Undangan dari ${h} telah ditolak.`)};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inbox Rekber"}),a.jsx("p",{className:"text-gray-600",children:"Undangan transaksi Rekber"})]})]}),l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2 text-orange-500"}),"Menunggu Konfirmasi (",l.length,")"]}),a.jsx("div",{className:"space-y-4",children:l.map(d=>a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(ht,{className:"h-4 w-4 text-orange-600"})}),a.jsxs("h3",{className:"font-bold text-gray-900",children:["Undangan Rekber ",d.game]})]}),a.jsxs("p",{className:"text-gray-700 mb-3",children:[a.jsxs("span",{className:"font-semibold",children:[d.fromUserId," ",d.fromUsername]})," mengundang Anda untuk transaksi Rekber"]}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(d.timestamp).toLocaleString("id-ID")})]}),a.jsxs("div",{className:"flex space-x-3 ml-4",children:[a.jsxs("button",{onClick:()=>c(d.id,d.fromUsername),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(xm,{className:"h-4 w-4"}),a.jsx("span",{children:"Terima"})]}),a.jsxs("button",{onClick:()=>u(d.id,d.fromUsername),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(pt,{className:"h-4 w-4"}),a.jsx("span",{children:"Tolak"})]})]})]})},d.id))})]}),o.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Riwayat"}),a.jsx("div",{className:"space-y-4",children:o.map(d=>a.jsx("div",{className:`border rounded-xl p-6 ${d.status==="accepted"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-1",children:["Rekber ",d.game," - ",d.fromUsername]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:new Date(d.timestamp).toLocaleString("id-ID")})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.status==="accepted"?"Diterima":"Ditolak"})]})},d.id))})]}),i.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ie,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Undangan"}),a.jsx("p",{className:"text-gray-500",children:"Undangan Rekber akan muncul di sini ketika ada yang mengundang Anda"})]})]})})})},Tw=({activeTab:e,setActiveTab:t,username:r})=>{const n=[{id:"overview",label:"Overview",icon:rw},{id:"rekber",label:"Rekber",icon:ie},{id:"users",label:"Users",icon:ht},{id:"topics",label:"Topics",icon:dr},{id:"roles",label:"Roles",icon:Dt},{id:"logs",label:"Logs",icon:Gn},{id:"reports",label:"Reports",icon:uw}];return a.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsx("div",{className:"py-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(ie,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",r]})]})]}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl px-4 py-2",children:a.jsx("p",{className:"text-red-800 font-semibold text-sm",children:" Admin Access"})})]})}),a.jsx("div",{className:"flex space-x-1 overflow-x-auto py-4",children:n.map(s=>{const i=s.icon;return a.jsxs("button",{onClick:()=>t(s.id),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all whitespace-nowrap ${e===s.id?"bg-red-100 text-red-700 shadow-md":"text-gray-600 hover:text-red-600 hover:bg-red-50"}`,children:[a.jsx(i,{className:"h-4 w-4"}),a.jsx("span",{children:s.label})]},s.id)})})]})})},Rw=({users:e,rekberGroups:t,gameTopics:r})=>{const n=[{title:"Total Users",value:e.length,icon:ht,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-600"},{title:"Active Rekber",value:t.filter(i=>i.status==="active").length,icon:ie,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-600"},{title:"Game Topics",value:r.filter(i=>i.isActive).length,icon:dr,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-600"},{title:"Completed Rekber",value:t.filter(i=>i.status==="completed").length,icon:kt,color:"bg-emerald-500",bgColor:"bg-emerald-50",textColor:"text-emerald-600"}],s=[{type:"user_join",message:"New user registered",time:"2 minutes ago",icon:ht},{type:"rekber_created",message:"New Rekber group created",time:"5 minutes ago",icon:ie},{type:"topic_added",message:"New game topic added",time:"10 minutes ago",icon:dr},{type:"rekber_completed",message:"Rekber transaction completed",time:"15 minutes ago",icon:kt}];return a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((i,l)=>{const o=i.icon;return a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm font-medium",children:i.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:i.value})]}),a.jsx("div",{className:`w-12 h-12 ${i.bgColor} rounded-xl flex items-center justify-center`,children:a.jsx(o,{className:`h-6 w-6 ${i.textColor}`})})]})},l)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(mr,{className:"h-6 w-6 text-gray-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"})]}),a.jsx("div",{className:"space-y-4",children:s.map((i,l)=>{const o=i.icon;return a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(o,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-900 font-medium",children:i.message}),a.jsx("p",{className:"text-gray-500 text-sm",children:i.time})]})]},l)})})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(bm,{className:"h-6 w-6 text-gray-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full p-4 bg-blue-50 hover:bg-blue-100 rounded-xl text-left transition-colors group",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ht,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-blue-900",children:"Create Admin"}),a.jsx("p",{className:"text-blue-600 text-sm",children:"Add new admin user"})]})]})}),a.jsx("button",{className:"w-full p-4 bg-green-50 hover:bg-green-100 rounded-xl text-left transition-colors group",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-green-900",children:"Add Game Topic"}),a.jsx("p",{className:"text-green-600 text-sm",children:"Create new game category"})]})]})}),a.jsx("button",{className:"w-full p-4 bg-purple-50 hover:bg-purple-100 rounded-xl text-left transition-colors group",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Dt,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-purple-900",children:"Manage Roles"}),a.jsx("p",{className:"text-purple-600 text-sm",children:"Set custom user roles"})]})]})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(kt,{className:"h-6 w-6 text-green-600"}),a.jsx("h3",{className:"text-xl font-bold text-green-900",children:"System Status"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),a.jsx("p",{className:"text-green-800 font-medium",children:"Database"}),a.jsx("p",{className:"text-green-600 text-sm",children:"Operational"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),a.jsx("p",{className:"text-green-800 font-medium",children:"Chat System"}),a.jsx("p",{className:"text-green-600 text-sm",children:"Operational"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),a.jsx("p",{className:"text-green-800 font-medium",children:"Rekber Service"}),a.jsx("p",{className:"text-green-600 text-sm",children:"Operational"})]})]})]})]})},Pw=({rekberGroups:e,onClaimGroup:t,onUpdateStatus:r,currentUserId:n})=>{const s=l=>{switch(l){case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},i=l=>{switch(l){case"active":return a.jsx(mr,{className:"h-4 w-4"});case"completed":return a.jsx(kt,{className:"h-4 w-4"});case"cancelled":return a.jsx(Ss,{className:"h-4 w-4"});default:return a.jsx(dt,{className:"h-4 w-4"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ie,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Rekber Management"})]}),a.jsx("p",{className:"text-gray-600",children:"Kelola grup Rekber dan pantau status transaksi"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(mr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(l=>l.status==="active").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Active"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(kt,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(l=>l.status==="completed").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Completed"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{className:"h-5 w-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(l=>!l.claimedBy).length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Unclaimed"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(ht,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Total"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Rekber Groups"})}),a.jsx("div",{className:"divide-y divide-gray-100",children:e.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Belum ada grup Rekber"})]}):e.map(l=>{var o,c;return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("h4",{className:"font-bold text-gray-900",children:l.name}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${s(l.status||"active")}`,children:a.jsxs("div",{className:"flex items-center space-x-1",children:[i(l.status||"active"),a.jsx("span",{className:"capitalize",children:l.status||"active"})]})})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Game:"})," ",l.game]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Participants:"})," ",((o=l.participants)==null?void 0:o.length)||0," users"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Messages:"})," ",((c=l.messages)==null?void 0:c.length)||0]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Created:"})," ",l.createdAt?new Date(l.createdAt).toLocaleString("id-ID"):"Unknown"]}),l.claimedBy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Claimed by:"})," Admin ",l.claimedBy]})]})]}),a.jsx("div",{className:"flex flex-col space-y-2 ml-4",children:l.claimedBy?l.claimedBy===n?a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>r(l.id,"success"),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Success"}),a.jsx("button",{onClick:()=>r(l.id,"failed"),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Mark Failed"})]}):a.jsx("span",{className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium",children:"Claimed by other admin"}):a.jsx("button",{onClick:()=>t(l.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Claim Group"})})]})},l.id)})})]})]})},Iw=({isOpen:e,username:t,currentUserId:r,onClose:n,onSave:s})=>{const[i,l]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(!1);b.useEffect(()=>{e&&(l(r),c(""))},[e,r]);const h=g=>g.trim()?g.length<1?"User ID minimal 1 karakter":g.length>10?"User ID maksimal 10 karakter":/^[0-9]+$/.test(g)?null:"User ID hanya boleh berisi angka":"User ID tidak boleh kosong",m=async()=>{const g=h(i);if(g){c(g);return}if(i===r){n();return}d(!0),c("");try{await s(t,i.trim()),n()}catch{c("User ID sudah digunakan atau terjadi kesalahan")}finally{d(!1)}},y=g=>{g.key==="Enter"&&!u?m():g.key==="Escape"&&n()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(mt,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User ID"}),a.jsxs("p",{className:"text-gray-600",children:["User: ",t]})]})]}),a.jsx("button",{onClick:n,disabled:u,className:"p-2 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current User ID"}),a.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-xl border",children:a.jsx("span",{className:"font-mono text-gray-900",children:r})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New User ID"}),a.jsx("input",{type:"text",value:i,onChange:g=>{l(g.target.value),c("")},onKeyDown:y,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-colors font-mono ${o?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"e.g., 123456",disabled:u,autoFocus:!0}),o&&a.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-red-600",children:[a.jsx(kc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:o})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Ketentuan User ID:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Minimal 1 karakter, maksimal 10 karakter"}),a.jsx("li",{children:" Hanya boleh berisi angka (0-9)"}),a.jsx("li",{children:" Tidak boleh sama dengan User ID lain"}),a.jsx("li",{children:" Contoh: 1, 99, 123456, 200001, 971968"}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"ID pendek sangat berharga!"})," (1, 2, 3, dll)"]})]})]})]})}),a.jsx("div",{className:"p-6 border-t border-gray-100",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:n,disabled:u,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Batal"}),a.jsx("button",{onClick:m,disabled:u||!i.trim()||i===r,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:u?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Menyimpan..."})]}):"Simpan"})]})})]})}):null},Aw=({users:e,currentUser:t,onUpdateUserId:r,onUpdateUserRole:n,onDeleteUser:s,onShowCreateAdmin:i,onShowCustomRole:l,onRemoveCustomRole:o,showDeleteConfirm:c,setShowDeleteConfirm:u,isDeleting:d,showUserIdModal:h,setShowUserIdModal:m,onUpdateUserIdModal:y})=>{var x;const g=w=>{if(w.customRole)return a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:w.customRoleColor},children:[" ",w.customRole]});switch(w.role){case"owner":return a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:" Owner"});case"admin":return a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:" Admin"});default:return a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:" User"})}},j=w=>{m(w)},v=(w,_)=>{if(_==="owner"){alert("Cannot change owner role");return}const k=_==="admin"?"user":"admin";confirm(`Change role to ${k}?`)&&n(w,k)},f=(w,_)=>{if(_==="owner"){alert("Cannot delete owner");return}u(w)},p=()=>{c&&(s(c),u(null))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ht,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Kelola pengguna dan role mereka"})]})]}),a.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:[a.jsx(wm,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Admin"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ht,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Total Users"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(w=>w.role==="admin").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Admins"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(Dt,{className:"h-5 w-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(w=>w.role==="owner").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Owners"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(Dt,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(w=>w.customRole).length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Custom Roles"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Users"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(w=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-blue-600",children:w.username.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:w.username}),w.username===(t==null?void 0:t.username)&&a.jsx("p",{className:"text-xs text-blue-600",children:"You"})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:w.userId})}),a.jsx("td",{className:"px-6 py-4",children:g(w)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(w.joinDate).toLocaleDateString("id-ID")}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>j(w.username),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User ID",children:a.jsx(ji,{className:"h-4 w-4"})}),w.role!=="owner"&&a.jsx("button",{onClick:()=>v(w.username,w.role),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Change Role",children:a.jsx(ie,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>l(w),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Custom Role",children:a.jsx(Dt,{className:"h-4 w-4"})}),w.customRole&&a.jsx("button",{onClick:()=>o(w.username),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Remove Custom Role",children:a.jsx(Dt,{className:"h-4 w-4"})}),w.role!=="owner"&&w.username!==(t==null?void 0:t.username)&&a.jsx("button",{onClick:()=>f(w.username,w.role),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:a.jsx(_s,{className:"h-4 w-4"})})]})})]},w.id))})]})})]})]}),a.jsx(Or,{isOpen:c!==null,onClose:()=>u(null),onConfirm:p,title:"Hapus User",message:`Yakin ingin menghapus user "${c}"? Tindakan ini tidak dapat dibatalkan dan akan menghapus semua data user termasuk pesan dan riwayat transaksi.`,confirmText:"Hapus User",cancelText:"Batal",type:"danger",isLoading:d}),a.jsx(Iw,{isOpen:h!==null,username:h||"",currentUserId:((x=e.find(w=>w.username===h))==null?void 0:x.userId)||"",onClose:()=>m(null),onSave:y})]})},Dw=({gameTopics:e,onAddTopic:t,onUpdateTopic:r,onDeleteTopic:n,showDeleteConfirm:s,setShowDeleteConfirm:i,isDeleting:l})=>{const[o,c]=b.useState(!1),[u,d]=b.useState(null),[h,m]=b.useState({name:"",description:"",icon:"",iconUrl:""}),y=w=>{w.preventDefault(),u?(r(u.id,{name:h.name,description:h.description,icon:h.icon,iconUrl:h.iconUrl}),d(null)):(t(h.name,h.description,h.icon,h.iconUrl||void 0),c(!1)),m({name:"",description:"",icon:"",iconUrl:""})},g=w=>{d(w),m({name:w.name,description:w.description,icon:w.icon,iconUrl:w.iconUrl||""}),c(!0)},j=()=>{c(!1),d(null),m({name:"",description:"",icon:"",iconUrl:""})},v=w=>{r(w.id,{isActive:!w.isActive})},f=w=>{i(w.id)},p=()=>{s&&(n(s),i(null))},x=()=>{if(!s)return"";const w=e.find(_=>_.id===s);return(w==null?void 0:w.name)||""};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dr,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Game Topics"}),a.jsx("p",{className:"text-gray-600",children:"Kelola kategori game dan chat room"})]})]}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[a.jsx(wm,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Topic"})]})]})}),o&&a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:u?"Edit Topic":"Add New Topic"}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Game Name"}),a.jsx("input",{type:"text",value:h.name,onChange:w=>m({...h,name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Mobile Legends",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Icon (2 characters)"}),a.jsx("input",{type:"text",value:h.icon,onChange:w=>m({...h,icon:w.target.value.slice(0,2)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., ML",maxLength:2,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Custom Icon URL (Optional)"}),a.jsx("input",{type:"url",value:h.iconUrl,onChange:w=>m({...h,iconUrl:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/icon.png"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Jika diisi, akan menggantikan icon text dengan gambar dari URL ini"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),a.jsx("input",{type:"text",value:h.description,onChange:w=>m({...h,description:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Diamond, Skin, Akun",required:!0})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-blue-800 text-sm mb-3",children:a.jsx("strong",{children:"Preview:"})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-500 rounded-xl flex items-center justify-center shadow-lg overflow-hidden",children:[h.iconUrl?a.jsx("img",{src:h.iconUrl,alt:h.name,className:"w-full h-full object-cover",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling.style.display="block"}}):null,a.jsx("span",{className:"text-white font-bold text-xl",style:{display:h.iconUrl?"none":"block"},children:h.icon||"?"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900",children:h.name||"Game Name"}),a.jsx("p",{className:"text-gray-600",children:h.description||"Description"})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:u?"Update Topic":"Add Topic"}),a.jsx("button",{type:"button",onClick:j,className:"px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-medium",children:"Cancel"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((w,_)=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:`w-16 h-16 bg-gradient-to-br ${_%4===0?"from-orange-400 to-red-500":_%4===1?"from-yellow-400 to-orange-500":_%4===2?"from-blue-400 to-purple-500":"from-green-400 to-blue-500"} rounded-xl flex items-center justify-center shadow-lg overflow-hidden`,children:[w.iconUrl?a.jsx("img",{src:w.iconUrl,alt:w.name,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.style.display="none",k.currentTarget.nextElementSibling.style.display="block"}}):null,a.jsx("span",{className:"text-white font-bold text-xl",style:{display:w.iconUrl?"none":"block"},children:w.icon})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>v(w),className:`p-2 rounded-lg transition-colors ${w.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:w.isActive?"Active":"Inactive",children:w.isActive?a.jsx(Sc,{className:"h-4 w-4"}):a.jsx(_c,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>g(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(ji,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>f(w),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:a.jsx(_s,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:w.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:w.isActive?"Active":"Inactive"}),a.jsxs("span",{children:["Created: ",new Date(w.createdAt).toLocaleDateString("id-ID")]})]})]})]},w.id))}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-lg border border-gray-100 text-center",children:[a.jsx(dr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Game Topics"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Belum ada game topic. Tambahkan topic pertama untuk memulai."}),a.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Add First Topic"})]})]}),a.jsx(Or,{isOpen:s!==null,onClose:()=>i(null),onConfirm:p,title:"Hapus Game Topic",message:`Yakin ingin menghapus topic "${x()}"? Tindakan ini akan menghapus topic dan chat room terkait secara permanen.`,confirmText:"Hapus Topic",cancelText:"Batal",type:"danger",isLoading:l})]})},$w=({users:e,onSetCustomRole:t,onRemoveCustomRole:r})=>{const[n,s]=b.useState("week"),[i,l]=b.useState([]),o=e.filter(g=>g.customRole);b.useEffect(()=>{l(o.map(j=>{const v=Math.floor(Math.random()*100)+20,f=Math.floor(Math.random()*500)+50,p=Math.floor(Math.random()*10)+1,x=new Date(Date.now()-Math.random()*7*24*60*60*1e3);return{...j,activity:{messages:f,rekberParticipated:p,lastActive:x,activityScore:v,weeklyMessages:Math.floor(f/4),monthlyMessages:f,averageResponseTime:Math.floor(Math.random()*300)+30,helpfulRating:(Math.random()*2+3).toFixed(1),reportCount:Math.floor(Math.random()*3),warningCount:Math.floor(Math.random()*2)}}}))},[o.length,n]);const c=g=>g>=80?{level:"Very Active",color:"text-green-600 bg-green-100",icon:""}:g>=60?{level:"Active",color:"text-blue-600 bg-blue-100",icon:""}:g>=40?{level:"Moderate",color:"text-yellow-600 bg-yellow-100",icon:""}:{level:"Low",color:"text-gray-600 bg-gray-100",icon:""},u=g=>{const v=new Date().getTime()-g.getTime(),f=Math.floor(v/(1e3*60*60)),p=Math.floor(f/24);return f<1?"Just now":f<24?`${f}h ago`:p===1?"Yesterday":`${p} days ago`},d=o.length,h=i.filter(g=>{const j=new Date(g.activity.lastActive),v=new Date;return j.toDateString()===v.toDateString()}).length,m=i.length>0?Math.floor(i.reduce((g,j)=>g+j.activity.weeklyMessages,0)/i.length):0,y=i.length>0?i.reduce((g,j)=>j.activity.activityScore>g.activity.activityScore?j:g):null;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(cd,{className:"h-6 w-6 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Custom Role Activity Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Monitor aktivitas dan performa user dengan custom role"})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Activity Period"}),a.jsx("div",{className:"flex space-x-2",children:[{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"month",label:"This Month"}].map(g=>a.jsx("button",{onClick:()=>s(g.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===g.key?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:g.label},g.key))})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(Dt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d}),a.jsx("p",{className:"text-gray-600",children:"Custom Role Users"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(cd,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h}),a.jsx("p",{className:"text-gray-600",children:"Active Today"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Bt,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m}),a.jsx("p",{className:"text-gray-600",children:"Avg Messages/Week"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(ew,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:(y==null?void 0:y.username)||"N/A"}),a.jsx("p",{className:"text-gray-600",children:"Top Performer"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"User Activity Details"})}),i.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Dt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Custom Role Users"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada user dengan custom role untuk dimonitor"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Activity Level"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Messages"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Rekber"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Active"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Performance"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issues"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(g=>{const j=c(g.activity.activityScore);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-blue-600",children:g.username.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.username}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:["ID: ",g.userId]}),a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:g.customRoleColor},children:[" ",g.customRole]})]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:j.icon}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.color}`,children:j.level})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.activity.weeklyMessages}),a.jsx("p",{className:"text-gray-500",children:"this week"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.activity.rekberParticipated}),a.jsx("p",{className:"text-gray-500",children:"transactions"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-gray-900",children:u(g.activity.lastActive)}),a.jsx("p",{className:"text-gray-500",children:g.activity.lastActive.toLocaleDateString("id-ID")})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-yellow-500",children:""}),a.jsxs("span",{className:"text-gray-900",children:[g.activity.helpfulRating,"/5.0"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-3 w-3 text-gray-400"}),a.jsxs("span",{className:"text-gray-600",children:[g.activity.averageResponseTime,"s avg"]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:g.activity.reportCount>0?"text-red-500":"text-green-500",children:g.activity.reportCount>0?"":""}),a.jsxs("span",{className:"text-gray-900",children:[g.activity.reportCount," reports"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:g.activity.warningCount>0?"text-orange-500":"text-green-500",children:g.activity.warningCount>0?"":""}),a.jsxs("span",{className:"text-gray-900",children:[g.activity.warningCount," warnings"]})]})]})})]},g.id)})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(bm,{className:"h-6 w-6 text-green-600"}),a.jsx("h3",{className:"text-xl font-bold text-green-900",children:"Top Performers"})]}),a.jsx("div",{className:"space-y-3",children:i.sort((g,j)=>j.activity.activityScore-g.activity.activityScore).slice(0,3).map((g,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-lg",children:j===0?"":j===1?"":""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.username}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:g.customRoleColor},children:g.customRole})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[g.activity.activityScore,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"activity score"})]})]},g.id))})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(nw,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Activity Summary"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Most Active User"}),a.jsx("span",{className:"font-semibold text-blue-600",children:(y==null?void 0:y.username)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Total Messages (Week)"}),a.jsx("span",{className:"font-semibold text-blue-600",children:i.reduce((g,j)=>g+j.activity.weeklyMessages,0)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Avg Response Time"}),a.jsxs("span",{className:"font-semibold text-blue-600",children:[i.length>0?Math.floor(i.reduce((g,j)=>g+j.activity.averageResponseTime,0)/i.length):0,"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"text-gray-700",children:"Users with Issues"}),a.jsx("span",{className:"font-semibold text-red-600",children:i.filter(g=>g.activity.reportCount>0||g.activity.warningCount>0).length})]})]})]})]})]})},Ow=()=>{const e=[{id:"1",type:"user_action",action:"User Login",user:"john_doe",details:"User logged in successfully",timestamp:new Date(Date.now()-3e5).toISOString(),severity:"info"},{id:"2",type:"admin_action",action:"Role Changed",user:"admin_user",details:"Changed user role from user to admin",timestamp:new Date(Date.now()-9e5).toISOString(),severity:"warning"},{id:"3",type:"rekber_action",action:"Rekber Created",user:"seller123",details:"New Rekber group created for Mobile Legends transaction",timestamp:new Date(Date.now()-18e5).toISOString(),severity:"info"},{id:"4",type:"system_action",action:"Topic Added",user:"system",details:'New game topic "Valorant" added to system',timestamp:new Date(Date.now()-27e5).toISOString(),severity:"info"},{id:"5",type:"security_action",action:"Failed Login",user:"unknown",details:"Multiple failed login attempts detected",timestamp:new Date(Date.now()-36e5).toISOString(),severity:"error"}],t=s=>{switch(s){case"user_action":return a.jsx(mt,{className:"h-4 w-4"});case"admin_action":return a.jsx(ie,{className:"h-4 w-4"});case"rekber_action":return a.jsx(ie,{className:"h-4 w-4"});case"system_action":return a.jsx(dr,{className:"h-4 w-4"});case"security_action":return a.jsx(dt,{className:"h-4 w-4"});default:return a.jsx(Gn,{className:"h-4 w-4"})}},r=s=>{switch(s){case"error":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},n=s=>{switch(s){case"user_action":return"text-blue-600 bg-blue-50";case"admin_action":return"text-red-600 bg-red-50";case"rekber_action":return"text-green-600 bg-green-50";case"system_action":return"text-purple-600 bg-purple-50";case"security_action":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gn,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),a.jsx("p",{className:"text-gray-600",children:"Monitor aktivitas sistem dan pengguna"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(mt,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.filter(s=>s.type==="user_action").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"User Actions"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.filter(s=>s.type==="admin_action").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Admin Actions"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.filter(s=>s.type==="rekber_action").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Rekber"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(dr,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.filter(s=>s.type==="system_action").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"System"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{className:"h-5 w-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.filter(s=>s.severity==="error").length}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Errors"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Last updated: just now"})]})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:e.map(s=>a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n(s.type)}`,children:t(s.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:s.action}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${r(s.severity)}`,children:s.severity.toUpperCase()})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:s.details}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["User: ",a.jsx("strong",{children:s.user})]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(s.timestamp).toLocaleString("id-ID")})]})]})]})},s.id))}),e.length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Gn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Logs Available"}),a.jsx("p",{className:"text-gray-600",children:"System logs will appear here when activities occur"})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Gn,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Log Information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Log Types"}),a.jsxs("ul",{className:"space-y-1 text-blue-800 text-sm",children:[a.jsx("li",{children:" User Actions: Login, logout, profile changes"}),a.jsx("li",{children:" Admin Actions: Role changes, user management"}),a.jsx("li",{children:" Rekber Actions: Group creation, status updates"}),a.jsx("li",{children:" System Actions: Topic management, system changes"}),a.jsx("li",{children:" Security Actions: Failed logins, suspicious activity"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Retention Policy"}),a.jsxs("ul",{className:"space-y-1 text-blue-800 text-sm",children:[a.jsx("li",{children:" Logs are stored locally in browser storage"}),a.jsx("li",{children:" Data persists until browser cache is cleared"}),a.jsx("li",{children:" No automatic log rotation in demo mode"}),a.jsx("li",{children:" Production would use proper log management"})]})]})]})]})]})},Uw=({currentUser:e,onTakeAction:t})=>{const[r,n]=b.useState("pending"),[s,i]=b.useState(null),[l,o]=b.useState(!1),[c,u]=b.useState({actionType:"none",duration:300,notes:""}),d=[{id:"1",reporterId:"123456",reporterUsername:"user123",reportedUserId:"789012",reportedUsername:"scammer_user",reason:"scam",description:"User ini menipu saya, sudah transfer tapi tidak memberikan item game",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),status:"pending",evidence:"screenshot_bukti.jpg"},{id:"2",reporterId:"456789",reporterUsername:"buyer_honest",reportedUserId:"345678",reportedUsername:"spammer123",reason:"spam",description:"User ini spam pesan terus menerus di chat room",timestamp:new Date(Date.now()-60*60*1e3).toISOString(),status:"pending"},{id:"3",reporterId:"111222",reporterUsername:"victim_user",reportedUserId:"333444",reportedUsername:"toxic_player",reason:"harassment",description:"User ini menggunakan kata-kata kasar dan mengancam",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),status:"resolved",adminAction:{actionType:"mute",duration:3600,adminId:(e==null?void 0:e.userId)||"200001",adminUsername:(e==null?void 0:e.username)||"admin",actionTimestamp:new Date(Date.now()-60*60*1e3).toISOString(),notes:"Muted for 1 hour due to harassment"}}],h=d.filter(f=>r==="all"?!0:f.status===r),m=f=>{switch(f){case"scam":return"bg-red-100 text-red-800 border-red-200";case"spam":return"bg-orange-100 text-orange-800 border-orange-200";case"harassment":return"bg-purple-100 text-purple-800 border-purple-200";case"inappropriate":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},y=f=>{switch(f){case"scam":return"Penipuan";case"spam":return"Spam";case"harassment":return"Pelecehan";case"inappropriate":return"Konten Tidak Pantas";default:return"Lainnya"}},g=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";case"dismissed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=()=>{if(!s)return;const f={...c,adminId:e==null?void 0:e.userId,adminUsername:e==null?void 0:e.username,actionTimestamp:new Date().toISOString()};t(s.id,f),o(!1),i(null),u({actionType:"none",duration:300,notes:""})},v=f=>f<60?`${f} detik`:f<3600?`${Math.floor(f/60)} menit`:f<86400?`${Math.floor(f/3600)} jam`:`${Math.floor(f/86400)} hari`;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dt,{className:"h-6 w-6 text-red-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Reports"}),a.jsx("p",{className:"text-gray-600",children:"Kelola laporan dari pengguna tentang pelanggaran"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(mr,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(f=>f.status==="pending").length}),a.jsx("p",{className:"text-gray-600",children:"Pending"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(kt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(f=>f.status==="resolved").length}),a.jsx("p",{className:"text-gray-600",children:"Resolved"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(dt,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(f=>f.reason==="scam").length}),a.jsx("p",{className:"text-gray-600",children:"Scam Reports"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(dw,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(f=>f.reason==="spam").length}),a.jsx("p",{className:"text-gray-600",children:"Spam Reports"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("div",{className:"flex space-x-1",children:[{key:"pending",label:"Pending",count:d.filter(f=>f.status==="pending").length},{key:"resolved",label:"Resolved",count:d.filter(f=>f.status==="resolved").length},{key:"all",label:"All Reports",count:d.length}].map(f=>a.jsxs("button",{onClick:()=>n(f.key),className:`px-6 py-3 rounded-xl font-semibold transition-all ${r===f.key?"bg-red-100 text-red-700":"text-gray-600 hover:text-red-600 hover:bg-red-50"}`,children:[f.label," (",f.count,")"]},f.key))})}),a.jsx("div",{className:"divide-y divide-gray-100",children:h.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(dt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Reports"}),a.jsx("p",{className:"text-gray-600",children:r==="pending"?"Tidak ada laporan yang menunggu":"Tidak ada laporan"})]}):h.map(f=>a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${m(f.reason)}`,children:y(f.reason)}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${g(f.status)}`,children:f.status.toUpperCase()}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(f.timestamp).toLocaleString("id-ID")})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("p",{className:"text-gray-900 font-medium mb-1",children:[a.jsx("span",{className:"text-red-600",children:"Reported:"})," ",f.reportedUsername," (ID: ",f.reportedUserId,")"]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[a.jsx("span",{className:"text-blue-600",children:"Reporter:"})," ",f.reporterUsername," (ID: ",f.reporterId,")"]})]}),a.jsx("p",{className:"text-gray-800 mb-3",children:f.description}),f.evidence&&a.jsxs("p",{className:"text-sm text-blue-600 mb-3",children:[" Evidence: ",f.evidence]}),f.adminAction&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("p",{className:"text-green-800 text-sm",children:[a.jsx("strong",{children:"Action Taken:"})," ",f.adminAction.actionType.toUpperCase(),f.adminAction.duration&&` for ${v(f.adminAction.duration)}`]}),a.jsxs("p",{className:"text-green-700 text-sm",children:["By: ",f.adminAction.adminUsername,"  ",new Date(f.adminAction.actionTimestamp).toLocaleString("id-ID")]}),f.adminAction.notes&&a.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Notes: ",f.adminAction.notes]})]})]}),f.status==="pending"&&a.jsx("div",{className:"ml-4",children:a.jsx("button",{onClick:()=>{i(f),o(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Take Action"})})]})},f.id))})]}),l&&s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Take Action"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Ss,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-gray-600 mb-2",children:["Against: ",a.jsx("strong",{children:s.reportedUsername})]}),a.jsxs("p",{className:"text-gray-600 mb-2",children:["Reason: ",a.jsx("strong",{children:y(s.reason)})]}),a.jsxs("p",{className:"text-gray-600",children:["Report: ",s.description]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Action"}),a.jsxs("select",{value:c.actionType,onChange:f=>u({...c,actionType:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"none",children:"No Action"}),a.jsx("option",{value:"warning",children:"Warning"}),a.jsx("option",{value:"mute",children:"Mute"}),a.jsx("option",{value:"ban",children:"Ban (Permanent)"})]})]}),c.actionType==="mute"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mute Duration (seconds)"}),a.jsx("input",{type:"number",value:c.duration,onChange:f=>u({...c,duration:parseInt(f.target.value)||300}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",min:"1"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Duration: ",v(c.duration)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes (Optional)"}),a.jsx("textarea",{value:c.notes,onChange:f=>u({...c,notes:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,placeholder:"Additional notes about this action..."})]})]}),a.jsxs("div",{className:"flex space-x-4 mt-6",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{onClick:j,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Apply Action"})]})]})})]})},Lw=({showCreateAdminModal:e,showCustomRoleModal:t,selectedUserForRole:r,onCloseCreateAdmin:n,onCloseCustomRole:s,onCreateAdmin:i,onSetCustomRole:l})=>{const[o,c]=b.useState({username:"",password:"",userId:""}),[u,d]=b.useState({role:"",color:"#8B5CF6",emoji:""}),h=[{name:"VIP Member",color:"#8B5CF6",emoji:""},{name:"Trusted Seller",color:"#10B981",emoji:""},{name:"Premium Buyer",color:"#F59E0B",emoji:""},{name:"Community Helper",color:"#3B82F6",emoji:""},{name:"Game Expert",color:"#EF4444",emoji:""},{name:"Beta Tester",color:"#6366F1",emoji:""}],m=["","","","","","","","","","","","","","","","","","","",""],y=v=>{v.preventDefault(),i(o.username,o.password,o.userId),c({username:"",password:"",userId:""})},g=v=>{v.preventDefault(),r&&(l(r.username,u.role,u.color,u.emoji),d({role:"",color:"#8B5CF6",emoji:""}))},j=v=>{d({role:v.name,color:v.color,emoji:v.emoji})};return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(ie,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Create Admin"}),a.jsx("p",{className:"text-gray-600",children:"Add new admin user"})]})]}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(mt,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",value:o.username,onChange:v=>c({...o,username:v.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Admin username",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),a.jsx("input",{type:"password",value:o.password,onChange:v=>c({...o,password:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Admin password",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User ID"}),a.jsx("input",{type:"text",value:o.userId,onChange:v=>c({...o,userId:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., 200001",required:!0})]}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"Admin privileges:"})," Can manage users, claim Rekber groups, and access admin panel."]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Create Admin"})]})]})]})}),t&&r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(Dt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Set Custom Role"}),a.jsxs("p",{className:"text-gray-600",children:["For ",r.username]})]})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(pt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsx("div",{className:"mb-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Need more emojis?"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("a",{href:"https://emojipedia.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline flex items-center space-x-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Emojipedia"})]}),a.jsxs("a",{href:"https://getemoji.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline flex items-center space-x-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"GetEmoji"})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Quick Select"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:h.map(v=>a.jsx("button",{onClick:()=>j(v),className:"p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:v.emoji}),a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.name})]})},v.name))})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role Emoji"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"text",value:u.emoji,onChange:v=>d({...u,emoji:v.target.value.slice(0,2)}),className:"w-20 px-3 py-2 text-center text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"",maxLength:2}),a.jsx("span",{className:"text-gray-500 text-sm",children:"Choose an emoji for the role"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Quick select:"}),a.jsx("div",{className:"grid grid-cols-10 gap-1 max-h-20 overflow-y-auto",children:m.map((v,f)=>a.jsx("button",{type:"button",onClick:()=>d({...u,emoji:v}),className:"w-8 h-8 text-lg hover:bg-purple-100 rounded transition-colors flex items-center justify-center",title:`Select ${v}`,children:v},f))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role Name"}),a.jsx("input",{type:"text",value:u.role,onChange:v=>d({...u,role:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., VIP Member",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role Color"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(lw,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"color",value:u.color,onChange:v=>d({...u,color:v.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl border-2 border-gray-200",style:{backgroundColor:u.color}})]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-purple-800 text-sm mb-2",children:a.jsx("strong",{children:"Preview:"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:r.username}),u.role&&a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:u.color},children:[u.emoji," ",u.role]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors font-medium",children:"Set Role"})]})]})]})})]})},Mw=()=>{const{user:e,isAdmin:t,isOwner:r,updateUserId:n,updateUserRole:s,createAdmin:i,getAllUsers:l,deleteUser:o,setCustomRole:c,removeCustomRole:u}=Vt(),{getRekberGroups:d,gameTopics:h,updateGameTopic:m,deleteGameTopic:y,claimRekberGroup:g,updateRekberStatus:j,addGameTopic:v}=Pn(),[f,p]=b.useState(!1),[x,w]=b.useState(null),[_,k]=b.useState("overview"),[S,E]=b.useState([]),[P,R]=b.useState(!1);b.useState(null),b.useState({name:"",description:"",icon:"",iconUrl:""});const[L,G]=b.useState({username:"",password:"",userId:""});b.useState({role:"",color:"#3B82F6"});const[U,F]=b.useState([]),[O,Q]=b.useState(null),[he,N]=b.useState(null),[C,I]=b.useState(!1),[D,K]=b.useState(null),Z=zr();b.useEffect(()=>{we()},[]);const we=async()=>{const V=await l();E(V),F(V)},St=async(V,re)=>{if(await n(V,re))we(),K(null),Z.success("User ID Diperbarui!",`User ID untuk ${V} berhasil diubah.`);else throw Z.error("Gagal Memperbarui User ID","User ID mungkin sudah digunakan oleh user lain."),new Error("User ID sudah digunakan")},be=async(V,re)=>{await s(V,re)?(we(),Z.success("Role Diperbarui!",`Role ${V} berhasil diubah menjadi ${re}.`)):Z.error("Gagal Memperbarui Role","Terjadi kesalahan saat mengubah role user.")},je=async V=>{I(!0),await o(V)?(we(),Z.success("User Dihapus!",`User ${V} berhasil dihapus dari sistem.`)):Z.error("Gagal Menghapus User","Terjadi kesalahan saat menghapus user."),I(!1)},ki=async()=>{await i(L.username,L.password,L.userId)?(we(),R(!1),G({username:"",password:"",userId:""}),Z.success("Admin Dibuat!",`Admin ${L.username} berhasil dibuat.`)):Z.error("Gagal Membuat Admin","Username atau User ID mungkin sudah digunakan.")},Ni=async V=>{if(!e)return;await g(V,e.userId)?Z.success("Grup Rekber Diklaim!","Anda berhasil mengklaim grup Rekber ini."):Z.error("Gagal Mengklaim Grup","Grup mungkin sudah diklaim oleh admin lain.")},_i=async(V,re)=>{await j(V,re);const Et=re==="success"?"berhasil":re==="failed"?"gagal":"aktif";Z.info("Status Rekber Diperbarui!",`Status grup Rekber diubah menjadi ${Et}.`)},Si=async(V,re,Et,In)=>{await v(V,re,Et,In)&&Z.success("Topic Ditambahkan!",`Game topic ${V} berhasil ditambahkan.`)},Ei=async V=>{I(!0),await y(V)&&Z.success("Topic Dihapus!","Game topic berhasil dihapus."),I(!1)},Ls=async(V,re,Et,In)=>{await c(V,re,Et,In)?(we(),Z.success("Custom Role Ditetapkan!",`Role ${re} berhasil diberikan.`)):Z.error("Gagal Menetapkan Role","Terjadi kesalahan saat menetapkan custom role.")},Ms=async V=>{await u(V)?(we(),Z.success("Custom Role Dihapus!",`Custom role untuk ${V} berhasil dihapus.`)):Z.error("Gagal Menghapus Role","Terjadi kesalahan saat menghapus custom role.")},Ci=V=>{w(V),p(!0)},zs=d();return!e||!t()?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-red-600 text-2xl",children:""})}),a.jsx("p",{className:"text-gray-600",children:"Access denied. Admin privileges required."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Tw,{activeTab:_,setActiveTab:k,username:e.username}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[_==="overview"&&a.jsx(Rw,{users:S,rekberGroups:zs,gameTopics:h}),_==="rekber"&&a.jsx(Pw,{rekberGroups:zs,onClaimGroup:Ni,onUpdateStatus:_i,currentUserId:e.userId}),_==="users"&&a.jsx(Aw,{users:S,currentUser:e,onUpdateUserId:St,onUpdateUserRole:be,onDeleteUser:je,onShowCreateAdmin:()=>R(!0),onShowCustomRole:Ci,onRemoveCustomRole:Ms,showDeleteConfirm:O,setShowDeleteConfirm:Q,isDeleting:C,showUserIdModal:D,setShowUserIdModal:K,onUpdateUserIdModal:St}),_==="topics"&&a.jsx(Dw,{gameTopics:h,onAddTopic:Si,onUpdateTopic:(V,re)=>m(V,re),onDeleteTopic:Ei,showDeleteConfirm:he,setShowDeleteConfirm:N,isDeleting:C}),_==="roles"&&a.jsx($w,{users:S,onSetCustomRole:Ls,onRemoveCustomRole:Ms}),_==="logs"&&a.jsx(Ow,{}),_==="reports"&&a.jsx(Uw,{currentUser:e,onTakeAction:(V,re)=>{console.log("Taking action on report:",V,re),alert(`Action ${re.actionType} applied successfully!`)}})]}),a.jsx(Lw,{showCreateAdminModal:P,showCustomRoleModal:f,selectedUserForRole:x,onCloseCreateAdmin:()=>R(!1),onCloseCustomRole:()=>{p(!1),w(null)},onCreateAdmin:ki,onSetCustomRole:Ls})]})},zw=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center max-w-md w-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(kn,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),a.jsx("h1",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Halaman Tidak Ditemukan"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Halaman yang Anda cari tidak ada atau telah dipindahkan."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ue,{to:"/",className:"inline-flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(ym,{className:"h-5 w-5"}),a.jsx("span",{children:"Kembali ke Beranda"})]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center space-x-2 px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(Nc,{className:"h-5 w-5"}),a.jsx("span",{children:"Kembali"})]})]})]})}),Fw=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!1);b.useEffect(()=>{s()},[]);const s=async()=>{n(!0);const i=mm(),l=await fm();let o={};if(i.hasUrl&&i.hasKey)try{const c=["users","chat_rooms","messages","game_topics","rekber_invites"];for(const u of c)try{const{data:d,error:h}=await A.from(u).select("*").limit(1);o[u]={success:!h,error:h==null?void 0:h.message,count:(d==null?void 0:d.length)||0}}catch(d){o[u]={success:!1,error:d.message,count:0}}}catch(c){console.error("Table test error:",c)}t({environment:i,connection:l,tableTests:o,timestamp:new Date().toISOString()}),n(!1)};return e?a.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[a.jsx(kc,{className:"h-6 w-6 mr-2 text-orange-500"}),"Supabase Connection Diagnostics"]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Environment Variables"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"VITE_SUPABASE_URL:"}),a.jsx("span",{className:e.environment.hasUrl?"text-green-600":"text-red-600",children:e.environment.hasUrl?" Set":" Missing"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"VITE_SUPABASE_ANON_KEY:"}),a.jsx("span",{className:e.environment.hasKey?"text-green-600":"text-red-600",children:e.environment.hasKey?" Set":" Missing"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Mode:"}),a.jsx("span",{className:"font-mono",children:e.environment.mode})]}),e.environment.hasUrl&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"URL Preview:"}),a.jsx("span",{className:"font-mono text-sm",children:e.environment.urlPreview})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Connection Test"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.connection.isConnected?a.jsx(kt,{className:"h-5 w-5 text-green-500"}):a.jsx(Ss,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{className:e.connection.isConnected?"text-green-600":"text-red-600",children:e.connection.isConnected?"Connected":"Disconnected"})]}),e.connection.latency&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Latency: ",e.connection.latency,"ms"]}),e.connection.error&&a.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error: ",e.connection.error]})]})]}),Object.keys(e.tableTests).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Database Tables"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:Object.entries(e.tableTests).map(([i,l])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-mono",children:i}),a.jsxs("div",{className:"flex items-center space-x-2",children:[l.success?a.jsx(kt,{className:"h-4 w-4 text-green-500"}):a.jsx(Ss,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:l.success?"text-green-600":"text-red-600",children:l.success?"OK":"Error"}),l.error&&a.jsxs("span",{className:"text-xs text-red-500",children:["(",l.error,")"]})]})]},i))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recommendations"}),a.jsxs("div",{className:"space-y-3",children:[!e.environment.hasUrl&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"Missing VITE_SUPABASE_URL:"})," Add your Supabase project URL to environment variables"]})}),!e.environment.hasKey&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"Missing VITE_SUPABASE_ANON_KEY:"})," Add your Supabase anon key to environment variables"]})}),e.environment.hasUrl&&e.environment.hasKey&&!e.connection.isConnected&&a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-orange-800 text-sm",children:[a.jsx("strong",{children:"Connection Failed:"})," Check if your Supabase project is active and credentials are correct"]})}),e.connection.isConnected&&Object.values(e.tableTests).some(i=>!i.success)&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Database Schema Issues:"})," Some tables are missing or have permission issues"]})})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:s,disabled:r,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(dd,{className:`h-4 w-4 ${r?"animate-spin":""}`}),a.jsx("span",{children:"Re-run Diagnostics"})]}),a.jsx("button",{onClick:()=>{const i=JSON.stringify(e,null,2);navigator.clipboard.writeText(i),alert("Debug info copied to clipboard!")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Copy Debug Info"})]}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Last updated: ",new Date(e.timestamp).toLocaleString()]})]})}):a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dd,{className:"h-5 w-5 text-blue-600 animate-spin"}),a.jsx("span",{className:"text-blue-800",children:"Running diagnostics..."})]})})},Bw=()=>a.jsx(Fw,{}),Hw=({id:e,type:t,title:r,message:n,duration:s=4e3,onClose:i})=>{const[l,o]=b.useState(!1),[c,u]=b.useState(!1);b.useEffect(()=>{const g=setTimeout(()=>o(!0),50),j=setTimeout(()=>{d()},s);return()=>{clearTimeout(g),clearTimeout(j)}},[s]);const d=()=>{u(!0),setTimeout(()=>{i(e)},300)},h=()=>{switch(t){case"success":return a.jsx(kt,{className:"h-5 w-5"});case"error":return a.jsx(Ss,{className:"h-5 w-5"});case"warning":return a.jsx(dt,{className:"h-5 w-5"});case"info":return a.jsx(aw,{className:"h-5 w-5"})}},y=(()=>{switch(t){case"success":return{bg:"bg-white border-l-4 border-green-500 shadow-lg",iconColor:"text-green-500",titleColor:"text-green-800",messageColor:"text-green-600"};case"error":return{bg:"bg-white border-l-4 border-red-500 shadow-lg",iconColor:"text-red-500",titleColor:"text-red-800",messageColor:"text-red-600"};case"warning":return{bg:"bg-white border-l-4 border-yellow-500 shadow-lg",iconColor:"text-yellow-500",titleColor:"text-yellow-800",messageColor:"text-yellow-600"};case"info":return{bg:"bg-white border-l-4 border-blue-500 shadow-lg",iconColor:"text-blue-500",titleColor:"text-blue-800",messageColor:"text-blue-600"}}})();return a.jsxs("div",{className:`
        ${y.bg} rounded-lg p-4 mb-3 max-w-sm w-full
        transform transition-all duration-300 ease-out
        ${l&&!c?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`flex-shrink-0 ${y.iconColor}`,children:h()}),a.jsxs("div",{className:"ml-3 flex-1",children:[a.jsx("h4",{className:`text-sm font-semibold ${y.titleColor}`,children:r}),n&&a.jsx("p",{className:`text-sm mt-1 ${y.messageColor}`,children:n})]}),a.jsx("button",{onClick:d,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(pt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:`h-1 rounded-full transition-all ease-linear ${t==="success"?"bg-green-500":t==="error"?"bg-red-500":t==="warning"?"bg-yellow-500":"bg-blue-500"}`,style:{width:"100%",animation:`shrink ${s}ms linear forwards`}})})]})},Ww=({toasts:e,onRemoveToast:t})=>e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2",children:e.map(r=>a.jsx(Hw,{...r,onClose:t},r.id))}),Vw=()=>{const{toasts:e,removeToast:t}=zr();return a.jsx(Kv,{children:a.jsx(Yv,{children:a.jsx(jx,{children:a.jsxs(pw,{children:[a.jsx(Ww,{toasts:e,onRemoveToast:t}),a.jsxs(X0,{children:[a.jsx(xt,{path:"/",element:a.jsx(gw,{})}),a.jsx(xt,{path:"/login",element:a.jsx(xw,{})}),a.jsx(xt,{path:"/register",element:a.jsx(yw,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(vw,{})}),a.jsx(xt,{path:"/chat",element:a.jsx(Ew,{})}),a.jsx(xt,{path:"/inbox",element:a.jsx(Cw,{})}),a.jsx(xt,{path:"/admin",element:a.jsx(Mw,{})}),a.jsx(xt,{path:"/debug",element:a.jsx(Bw,{})}),a.jsx(xt,{path:"*",element:a.jsx(zw,{})})]})]})})})})};Sf(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx(Vw,{})}));
